const __vite__fileDeps=["./Cv3X4BPC.js","./CPIMTh_-.js","./CS_v0reC.js","./swiper-vue.Bs3d9ZnH.css","./entry.COpcAZkl.css","./CvtufldL.js","./DirjW7-x.js","./x_5J3mjP.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as dn,c as un,z as De,F as qe,aa as hn,ab as gn}from"./CS_v0reC.js";import{f as fn,an as se,ao as re}from"./CPIMTh_-.js";const[Ve,pn]=fn("space"),mn={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function Ht(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===qe?t.push(...Ht(n.children)):t.push(n)}),t.filter(n=>{var i;return!(n&&(n.type===hn||n.type===qe&&((i=n.children)==null?void 0:i.length)===0||n.type===gn&&n.children.trim()===""))})}var Yi=dn({name:Ve,props:mn,setup(e,{slots:t}){const n=un(()=>{var s;return(s=e.align)!=null?s:e.direction==="horizontal"?"center":""}),i=s=>typeof s=="number"?s+"px":s,o=s=>{const r={},a=`${i(Array.isArray(e.size)?e.size[0]:e.size)}`,d=`${i(Array.isArray(e.size)?e.size[1]:e.size)}`;return s?e.wrap?{marginBottom:d}:{}:(e.direction==="horizontal"&&(r.marginRight=a),(e.direction==="vertical"||e.wrap)&&(r.marginBottom=d),r)};return()=>{var s;const r=Ht((s=t.default)==null?void 0:s.call(t));return De("div",{class:[pn({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[r.map((a,d)=>De("div",{key:`item-${d}`,class:`${Ve}-item`,style:o(d===r.length-1)},[a]))])}}}),Ue,We,Xe,Ye,Ke,Ge,Qe,Je,Ze;function et(e){return vn(e).toString(36)}function vn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=1540483477,i=24,o=t^e.length,s=e.length,r=0;for(;s>=4;){let a=bn(e,r);a=D(a,n),a^=a>>>i,a=D(a,n),o=D(o,n),o^=a,r+=4,s-=4}switch(s){case 3:o^=tt(e,r),o^=e.charCodeAt(r+2)<<16,o=D(o,n);break;case 2:o^=tt(e,r),o=D(o,n);break;case 1:o^=e.charCodeAt(r),o=D(o,n);break}return o^=o>>>13,o=D(o,n),o^=o>>>15,o>>>0}function bn(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function tt(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function D(e,t){e=e|0,t=t|0;let n=e&65535,i=e>>>16;return n*t+((i*t&65535)<<16)|0}function ue(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;const o=n.shift();if(ue(e)&&ue(o))for(const s in o)ue(o[s])?(e[s]||Object.assign(e,{[s]:{}}),U(e[s],o[s])):Object.assign(e,{[s]:o[s]});return U.apply(void 0,[e].concat(n))}function yn(e){let t=[":",".","[",">"," "],n=!1,i=e.charAt(0);for(let o=0;o<t.length;o++)if(i===t[o]){n=!0;break}return n||e.indexOf("&")>=0}var wn=/[(),]|"(?:\\.|[^"\n])*"|'(?:\\.|[^'\n])*'|\/\*[\s\S]*?\*\//g;function nt(e){if(e.indexOf(",")===-1)return[e];for(var t=[],n=[],i=0,o;o=wn.exec(e);)switch(o[0]){case"(":i++;break;case")":i--;break;case",":if(i)break;t.push(o.index)}for(o=t.length;o--;)n.unshift(e.slice(t[o]+1)),e=e.slice(0,t[o]);return n.unshift(e),n}function ot(e,t){let n=nt(e);return nt(t).map(o=>o.indexOf("&")>=0?o:"&"+o).reduce((o,s)=>o.concat(n.map(r=>s.replace(/\&/g,r))),[]).join(",")}function xn(e,t){return e?"@media "+e.substring(6)+" and "+t.substring(6):t}function jt(e){return e.indexOf("@media")===0}function Nt(e){return e.indexOf("@keyframes")===0}function kn(e){return e.indexOf("@global")===0}function he(e,t){var n;let i=t.rules,o=t.mediaQuery,s=t.globalSelector,r={};return s&&(e=s),(n=Object.keys(i))==null||n.forEach(a=>{if(kn(a)){const p=a;a=a.substring(8);const m=a.indexOf("&");let v;m!=-1?(v=ot(e,a),s=a.substring(0,m-1).trim()):v=a,U(r,he(v,{mediaQuery:o,rules:i[p],globalSelector:v}))}else if(yn(a))U(r,he(ot(e,a),{rules:i[a],mediaQuery:o}));else if(jt(a))U(r,he(e,{mediaQuery:xn(o,a),rules:i[a]}));else if(o){var d,l,u,h;(d=r[o])!==null&&d!==void 0||(r[o]={}),(h=(l=r[o])[u=e])!==null&&h!==void 0||(l[u]={}),r[o][e][a]=i[a]}else if(Nt(a))r[a]=i[a];else{var g,f;(f=r[g=e])!==null&&f!==void 0||(r[g]={}),r[e][a]=i[a]}}),r}function Dt(e){let t=[];for(const n in e)if(Object.hasOwnProperty.call(e,n)){const i=e[n];ue(i)?t.push(n+"{"+Dt(i)+"}"):t.push(n+":"+i)}return/^\d%/.test(t[0])?t.join(" "):t.join(";")}function qt(e){let t=[];for(const n in e)if(Object.hasOwnProperty.call(e,n)){const i=e[n];if(jt(n))t.push(n+"{"+qt(i)+"}");else if(Nt(n))t.push(n+"{"+Dt(i)+"}");else{const o=Object.entries(i).map(s=>{let r=s[0],a=s[1];return r+":"+a}).join(";");t.push(n+"{"+o+"}")}}return t}function $n(e,t){return qt(he(t,{rules:e}))}var c;(e=>{e.create=function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const a=o.indexOf("#")!==-1,d=o.indexOf(".")!==-1,l=a?o.split("#"):d?o.split("."):[o],u=l[0],h=l[1],g=document.createElement(u);return a&&(g.id=h),d&&g.classList.add(h),r&&(g.innerHTML=r),Object.keys(s).forEach(f=>{const p=s[f];(u==="video"||u==="audio")&&typeof p=="boolean"?p&&g.setAttribute(f,""):typeof p<"u"&&g.setAttribute(f,""+p)}),g},e.render=(o,s)=>s.appendChild(o),e.isBrowser=()=>!!(typeof globalThis<"u"&&globalThis.document&&globalThis.document.documentElement);function t(o){if(!(0,e.isBrowser)())return null;let s=document.createElement("style");s.setAttribute("data-"+o,""),s.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(s);for(let r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===s)return document.styleSheets.item(r);return null}e.createSheet=t;const n=(()=>{const o=Object.create({});return s=>{const r=typeof s=="object"?JSON.stringify(s):s;return o[r]||(o[r]="css-"+et(r)),o[r]}})();e.createCss=o=>{let s=o.sheet,r=o.ssrData;return function(){for(var a,d=arguments.length,l=new Array(d),u=0;u<d;u++)l[u]=arguments[u];const h=!!(l[0]&&l[0].length&&l[0].raw);let g="";if(h){let m=l[0];g+=m[0];for(let v=1;v<l.length;v++)g+=typeof l[v]!="string"?"":l[v],g+=m[v]}else typeof l[0]=="string"?g=l[0]:g=JSON.stringify(l[0]);const f=n(g);if(s){for(let m=0;m<s.cssRules.length;m++)if(((a=s.cssRules[m])==null?void 0:a.selectorText)=="."+f)return f}let p=["."+f+"{"+g+"}"];return!h&&typeof l[0]=="object"&&(p=$n(l[0],"."+f)),s?p.forEach(m=>{s.insertRule(m,s.cssRules.length)}):r=r.concat(p),f}},e.createStyled=()=>{const o=[],s=t("oplayer");return{css:(0,e.createCss)({sheet:s,ssrData:o}),getCssValue:()=>o}};var i=(0,e.createStyled)();e.css=i.css,e.getCssValue=i.getCssValue,e.cls=o=>"css-"+et(o)})(c||(c={}));const Y=c,En=/(iPad)/gi.test((Ue=globalThis.navigator)==null?void 0:Ue.userAgent)||/Macintosh/i.test((We=globalThis.navigator)==null?void 0:We.userAgent)&&!!((Xe=globalThis.navigator)!=null&&Xe.maxTouchPoints)&&((Ye=globalThis.navigator)==null?void 0:Ye.maxTouchPoints)>=1,Sn=/iPhone/gi.test((Ke=globalThis.navigator)==null?void 0:Ke.userAgent),Ln=/^((?!chrome|android).)*safari/i.test((Ge=globalThis.navigator)==null?void 0:Ge.userAgent),oe=Sn||En,$=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test((Qe=globalThis.navigator)==null?void 0:Qe.userAgent)||oe,Tn=/mqqbrowser/i.test((Je=globalThis.navigator)==null?void 0:Je.userAgent)&&!/ qq/i.test((Ze=globalThis.navigator)==null?void 0:Ze.userAgent),_n=(e,t,n)=>{var i;const o=document.createElement("script");o.src=e,o.onload=t,o.onerror=n;const s=document.getElementsByTagName("script")[0];(i=s==null?void 0:s.parentNode)==null||i.insertBefore(o,s)},K={},ee=e=>typeof e>"u",Cn=function(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:()=>!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_n;const s=a=>{if(!ee(window[a]))return window[a];if(window.exports&&window.exports[a])return window.exports[a];if(window.module&&window.module.exports&&window.module.exports[a])return window.module.exports[a]},r=s(t);return r&&i(r)?Promise.resolve(r):new Promise((a,d)=>{if(!ee(K[e])){K[e].push({resolve:a,reject:d});return}K[e]=[{resolve:a,reject:d}];const l=u=>{var h;(h=K[e])==null||h.forEach(g=>g.resolve(u))};if(!ee(n)){const u=window[n];window[n]=function(){ee(u)||u.apply(void 0,arguments),l(s(t))}}o(e,()=>{ee(n)&&l(s(t))},u=>{var h;(h=K[e])==null||h.forEach(g=>{g.reject(u)}),delete K[e]})})},An=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","encrypted","waitingforkey","enterpictureinpicture","leavepictureinpicture"],Pn=["contextmenu"];class On{constructor(){this.events=Object.create(null)}on(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}onAny(t,n){t.forEach(i=>this.on(i,n))}once(t,n){const i=o=>{n({type:t,payload:o.payload})};i.raw=n,this.on(t,i)}off(t,n){if(this.events[t])for(let i=0;i<this.events[t].length;i++){const o=this.events[t][i];(o==n||n==o.raw)&&this.events[t].splice(i,1)}}offAny(t){this.events[t]=[]}offAll(){this.events=Object.create(null)}emit(t,n){var i,o;const s=[];(i=this.events[t])==null||i.forEach(r=>{r({type:t,payload:n}),r.raw&&s.push(r)}),(o=this.events["*"])==null||o.forEach(r=>{r({type:t,payload:n}),r.raw&&s.push(r)}),s.forEach(r=>{this.off(t,r)})}}const zn="播放",In="暂停",Mn="循环播放",Rn="音量",Bn="静音",Fn="播放速度",Hn="直播",jn="语言",Nn="截图",Dn="字幕",qn="画质",Vn="全屏",Un="设置",Wn="弹幕",Xn="显示",Yn="透明度",Kn="字体大小",Gn="关闭",Qn="自动",Jn="默认",Zn="正常",eo="关闭",Ee={Play:zn,Pause:In,Loop:Mn,Volume:Rn,"Volume: %s":"音量：%s",Mute:Bn,Speed:Fn,LIVE:Hn,Language:jn,Screenshot:Nn,Subtitle:Dn,Quality:qn,Fullscreen:Vn,"TextDecoder Not Supported":"不支持原生字幕",Settings:Un,"Picture in Picture":"画中画",Danmaku:Wn,Display:Xn,Opacity:Yn,FontSize:Kn,"Display Area":"显示区域",Off:Gn,Auto:Qn,Default:Jn,Normal:Zn,"%ss":"%s秒",Close:eo,"Can be closed after %ss":"%s秒后可关闭广告"};class to{constructor(t){this.languages={zh:Ee,"zh-CN":Ee,en:Object.keys(Ee).reduce((n,i)=>(n[i]=i,n),{})},this.lang=t==="auto"?navigator.language:t,this.languages[this.lang]||navigator.languages.some(n=>{if(this.languages[n])return this.lang=n,!0;if(n.indexOf("-")!==-1){const i=n.split("-")[0];if(i&&this.languages[i])return this.lang=i,!0}return!1}),this.languages[this.lang]||(this.lang="zh-CN")}get(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=this.languages[this.lang][t];if(s==null)return t;let r=0;return s.replace(/%s/gi,()=>{var a;return(a=i[r++])!==null&&a!==void 0?a:""})}update(t){U(this.languages,t)}}const no={autoplay:!1,muted:!1,loop:!1,volume:1,preload:"metadata",playbackRate:1,playsinline:!0,lang:"auto",source:{},videoAttr:{},isLive:!1,autopause:!0,isNativeUI:()=>Tn},Vt=class q{constructor(t,n){if(this.plugins=[],this.context={},this.listeners=Object.create(null),this.hasError=!1,this.isSourceChanging=!1,this.container=typeof t=="string"?document.querySelector(t):t,!this.container)throw new Error((typeof t=="string"?t:"Element")+"does not exist");this.options=Object.assign({},no,typeof n=="string"?{source:{src:n}}:n),this.locales=new to(this.options.lang),this.eventEmitter=new On}static make(t,n){return new q(t,n)}use(t){return t.forEach(n=>{this.plugins.push(n)}),this}create(){return this.render(),this.initEvent(),this.plugins.forEach(t=>this.applyPlugin(t,!0)),this.options.source.src&&this.load(this.options.source),q.players.push(this),this}initEvent(){const t=i=>{this.$video.error&&(this.hasError=!0,this.eventEmitter.emit("error",i))};this.listeners.error=t,this.$video.addEventListener("error",i=>this.listeners.error(i));const n=(i,o)=>{this.eventEmitter.emit(i,o)};[[this.$video,["fullscreenchange","webkitbeginfullscreen","webkitendfullscreen"],["fullscreenerror","webkitfullscreenerror","mozfullscreenerror"]],[this.$root,["fullscreenchange","webkitfullscreenchange"],["fullscreenerror","webkitfullscreenerror","mozfullscreenerror"]]].forEach(i=>{const o=i[0];i.slice(1).forEach(r=>{const a=r[0];this.listeners[a]=n,r.forEach(d=>{o.addEventListener(d,l=>{this.listeners[a](a,l)},{passive:!0})})})}),[[this.$video,An],[this.$root,Pn]].forEach(i=>{let o=i[0];i[1].forEach(r=>{this.listeners[r]||(this.listeners[r]=n,o.addEventListener(r,a=>{var d;(d=this.listeners)==null||d[r](r,a)},{passive:!0}))})})}render(){this.$video=Y.create("video."+Y.css(`
        width: 100%;
        height: 100%;
        display: block;
        position: relative;
      `),Object.assign({autoplay:this.options.autoplay,loop:this.options.loop,playsinline:this.options.playsinline,"webkit-playsinline":this.options.playsinline,"x5-playsinline":this.options.playsinline,preload:this.options.preload,poster:this.options.source.poster},this.options.videoAttr));const t=this.options,n=t.muted,i=t.volume,o=t.playbackRate;n&&this.mute(),this.$video.volume=i,setTimeout(()=>{this.$root&&this.setPlaybackRate(o)}),this.$root=Y.create("div."+Y.css(`
        position: relative;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
      `)),Y.render(this.$video,this.$root),Y.render(this.$root,this.container)}async load(t){var n;await((n=this.loader)==null?void 0:n.destroy()),this.loader=void 0;for(const i of this.plugins)if(i.load){const o=await i.load(this,t);if(o!=!1&&!this.loader){this.loader=o,this.emit("loaderchange",o);break}}return this.loader||(this.$video.src=t.src),t}applyPlugin(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=t.name,o=t.key;if(this.context[t.key||t.name])throw new Error("duplicate plugin");n||this.plugins.push(t);const s=t.apply(this);s&&(this.context[o||i]=s)}on(t,n){return typeof t=="string"?this.eventEmitter.on(t,n):Array.isArray(t)?this.eventEmitter.onAny(t,n):typeof t=="function"&&this.eventEmitter.on("*",t),this}once(t,n){this.eventEmitter.once(t,n)}off(t,n){this.eventEmitter.off(t,n)}emit(t,n){this.eventEmitter.emit(t,n)}setPoster(t){this.$video.poster=t}play(){if(!(!this.$video.src&&!this.$video.currentSrc||this.isSourceChanging)){if(this.options.autopause)for(let t=0;t<q.players.length;t++){const n=q.players[t];n!=this&&n.pause()}return this.$video.play()}}pause(){return this.$video.pause()}togglePlay(){return this.isPlaying?this.pause():this.play()}mute(){this.$video.muted=!0}unmute(){this.$video.muted=!1}toggleMute(){this.isMuted?this.unmute():this.mute()}setVolume(t){this.$video.volume=t>1?1:t<0?0:t,this.$video.volume>0&&this.isMuted&&this.unmute()}setPlaybackRate(t){this.$video.playbackRate=t}seek(t){this.$video.currentTime=t}setLoop(t){this.$video.loop=t}async enterFullscreen(){this.isInPip&&await this.exitPip(),this._requestFullscreen?this._requestFullscreen.call(this.$root,{navigationUI:"hide"}):this.$video.webkitEnterFullscreen()}exitFullscreen(){return this._exitFullscreen.call(document)}get isFullscreenEnabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||this.$video.webkitEnterFullscreen}get isFullScreen(){return!!((document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this.$root||this.$video.webkitDisplayingFullscreen)}toggleFullScreen(){return this.isFullScreen?this.exitFullscreen():this.enterFullscreen()}get isPipEnabled(){return document.pictureInPictureEnabled}enterPip(){return this.$video.requestPictureInPicture()}exitPip(){return this.isInPip?document.exitPictureInPicture():!1}get isInPip(){return document.pictureInPictureElement==this.$video}togglePip(){return this.isInPip?this.exitPip():this.enterPip()}changeQuality(t){return this._loader(t,{keepPlaying:!0,keepTime:!0,preEvent:"videoqualitychange",event:"videoqualitychanged",brokenEvent:"qualitychangeerror"})}changeSource(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return this._loader(t,{keepPlaying:n,preEvent:"videosourcechange",event:"videosourcechanged",brokenEvent:"sourcechangeerror"})}_loader(t,n){return new Promise((i,o)=>{if(this.isSourceChanging)return o(Error("Previous Source is Changing."));const s=this.isPlaying,r=this.currentTime,a=this.volume,d=this.playbackRate;this.pause(),this.hasError=!1,this.isSourceChanging=!0,this.emit(n.preEvent,t);const l=n.keepPlaying,u=n.keepTime,h=this.options.preload=="none",g=h?"loadstart":"loadedmetadata",f=l&&s;let p;const m=w=>{this.$root&&(this.off(g,y),this.emit(n.brokenEvent,{source:p||t,error:w}),n.event=="videosourcechanged"?this.isSourceChanging=!1:this.load(this.options.source).then(v).finally(()=>{this.isSourceChanging=!1}),o(w))},v=()=>{a!=this.volume&&this.setVolume(a),d!=this.playbackRate&&this.setPlaybackRate(d),h&&u&&this.$video.load(),u&&!this.options.isLive&&this.seek(r),f&&!this.isPlaying&&this.$video.play(),Object.assign(this.options.source,p)},y=()=>{this.$root&&(this.off("error",m),v(),this.isSourceChanging=!1,this.emit(n.event,p),i())};return(t instanceof Promise?t:Promise.resolve(t)).then(w=>{if(!w.src)throw new Error("Empty Source");return p=w,this.$video.poster=w.poster||"",this.once("error",m),this.once(g,y),w}).then(w=>this.load(w)).catch(m)})}destroy(){q.players.splice(q.players.indexOf(this),1);const t=this.eventEmitter,n=this.loader,i=this.plugins,o=this.container,s=this.$root,r=this.$video,a=this.isPlaying,d=this.isFullScreen,l=this.isInPip;t.emit("destroy"),t.offAll(),n==null||n.destroy(),i.forEach(u=>{var h;return!u.load&&((h=u.destroy)==null?void 0:h.call(u))}),a&&this.pause(),d&&this.exitFullscreen(),l&&this.exitPip(),r.src&&URL.revokeObjectURL(r.src),o.removeChild(s),this.eventEmitter=this.locales=this.options=this.listeners=this.context=this.plugins=this.container=this.$root=this.$video=this.loader=void 0}get isNativeUI(){return this.options.isNativeUI()}get state(){return this.$video.readyState}get isPlaying(){return!this.$video.paused}get isMuted(){return this.$video.muted}get isEnded(){return this.$video.ended}get isLoop(){return this.$video.loop}get isAutoPlay(){return this.$video.autoplay}get duration(){return this.$video.duration}get buffered(){return this.$video.buffered}get currentTime(){return this.$video.currentTime}get volume(){return this.$video.volume}get playbackRate(){return this.$video.playbackRate}get _requestFullscreen(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen}get _exitFullscreen(){return Document.prototype.exitFullscreen||Document.prototype.webkitExitFullscreen||Document.prototype.cancelFullScreen||Document.prototype.mozCancelFullScreen||Document.prototype.msExitFullscreen}static get version(){return"1.2.36"}};Vt.players=[];let oo=Vt;globalThis.window&&console.log(`%cOPlayer%c v%s
 %c
Oh! Another HTML5 video player.
https://github.com/shiyiya/oplayer
`,"font-size:32px;","font-size:12px;color:#999999;",oo.version,"font-size:14px;");var it,st,rt,at,lt,ct,dt,ut;function N(e,t){return t||(t=e.slice(0)),e.raw=t,e}const Q=c.cls("loading"),ve=c.cls("playing"),ge=c.cls("focused"),Re=c.cls("fullscreen"),W=c.cls("settingShown"),J=c.css("display:none"),ht="data-ctrl-hidden",A=c.css({["."+ve]:{cursor:"none"}}),be=c.cls("error"),io=e=>{var t;return c.css(Object.assign({"--primary-color":""+e.theme.primaryColor,"--shadow-background-color":"rgba(28 ,28 ,28 , .9)","--control-bar-height":(t=e.theme.controller)!=null&&t.display?"2.5em":0,position:"absolute",top:"0",left:"0",width:"100%",height:"100%","line-height":1,"font-size":$?"16px":"18px","&, & > *":{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"},"& [hidden]":{display:"none"}},{["@global ."+ae+" &"]:{"font-size":$?"18px":"22px"},["@global ."+Re+" &"]:{"font-size":$?"18px":"22px"}}))},ae=c.css(it||(it=N([`
  z-index: 99 !important;
  position: fixed !important;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;`]))),C=c.css({background:"none",border:"none",cursor:"pointer",padding:0,outline:"none",font:"inherit",color:"inherit",fill:"#fff","line-height":"inherit","text-align":"inherit",width:"100%","-webkit-tap-highlight-color":"transparent","user-select":"none"}),te=c.css({"& > *:nth-child(1)":{display:"none"}}),G=c.css({"& > *:nth-child(2)":{display:"none"}}),F=$?"":c.css({position:"relative","&:hover":{"&::after":{opacity:1,transform:"translateX(-50%) scale(1)"},"&:not([data-tooltip-pos]):last-child::after":{right:0,left:"auto",transform:"translateY(0) scale(1)"},"&[data-tooltip-pos=down]::after":{transform:"translateX(-50%) scale(1)"},"&[data-tooltip-pos=down]:last-child::after":{right:0,transform:"translateY(0) scale(1)"}},"&::after":{position:"absolute",content:"attr(aria-label)",bottom:"100%",left:"50%","margin-bottom":"0.5em","white-space":"nowrap",background:"var(--shadow-background-color)",transform:"translate(-50%, 10px) scale(.8)","transform-origin":"50% 100%",opacity:0,padding:"6px 8px","border-radius":"2px",transition:"transform .2s ease .1s,opacity .2s ease .1s","pointer-events":"none","font-size":"0.75em"},"&[data-tooltip-pos=down]::after":{top:"100%",bottom:"auto","margin-top":"0.5em",transform:"translate(-50%, -10px) scale(.8)"},"&[data-tooltip-pos=down]:last-child::after":{right:0,top:"100%",bottom:"unset",left:"auto","margin-top":"0.5em",transform:"translateY(-10px) scale(.8)","transform-origin":"100% 0"},"&:not([data-tooltip-pos]):last-child::after":{right:0,left:"auto",transform:"translateY(10px) scale(.8)","transform-origin":"100% 100%"}}),so='<svg viewBox="-113 -113 1250 1250"><path d="M0 232.732444A232.732444 232.732444 0 0 1 232.732444 0h558.535112A232.732444 232.732444 0 0 1 1024 232.732444v558.535112A232.732444 232.732444 0 0 1 791.267556 1024H232.732444A232.732444 232.732444 0 0 1 0 791.267556V232.732444z m232.732444-139.662222a139.662222 139.662222 0 0 0-139.662222 139.662222v558.535112a139.662222 139.662222 0 0 0 139.662222 139.662222h558.535112a139.662222 139.662222 0 0 0 139.662222-139.662222V232.732444a139.662222 139.662222 0 0 0-139.662222-139.662222H232.732444z"></path><path d="M549.575111 245.845333c0-25.799111 20.935111-46.734222 46.734222-46.734222h116.821334A140.202667 140.202667 0 0 1 853.333333 339.313778v116.821333a46.734222 46.734222 0 0 1-93.468444 0v-116.821333c0-25.827556-20.906667-46.734222-46.734222-46.734222h-116.821334a46.734222 46.734222 0 0 1-46.734222-46.734223zM245.845333 549.546667c25.799111 0 46.734222 20.935111 46.734223 46.734222v116.821333c0 25.827556 20.906667 46.734222 46.734222 46.734222h116.821333a46.734222 46.734222 0 0 1 0 93.468445h-116.821333A140.202667 140.202667 0 0 1 199.111111 713.130667v-116.821334c0-25.799111 20.935111-46.734222 46.734222-46.734222z"></path></svg>',ro='<svg viewBox="-113 -113 1250 1250"><path d="M0.739556 233.130667a232.391111 232.391111 0 0 1 232.391111-232.391111h557.738666a232.391111 232.391111 0 0 1 232.391111 232.391111v557.738666a232.391111 232.391111 0 0 1-232.391111 232.391111H233.130667a232.391111 232.391111 0 0 1-232.391111-232.391111V233.130667z m232.391111-139.434667a139.434667 139.434667 0 0 0-139.434667 139.434667v557.738666a139.434667 139.434667 0 0 0 139.434667 139.434667h557.738666a139.434667 139.434667 0 0 0 139.434667-139.434667V233.130667a139.434667 139.434667 0 0 0-139.434667-139.434667H233.130667z"></path><path d="M601.088 186.652444c25.685333 0 46.506667 20.792889 46.506667 46.478223v96.796444c0 25.685333 20.792889 46.478222 46.478222 46.478222h96.796444a46.478222 46.478222 0 1 1 0 92.984889h-96.796444a139.434667 139.434667 0 0 1-139.463111-139.463111V233.130667c0-25.685333 20.821333-46.478222 46.478222-46.478223z m-414.435556 414.435556c0-25.656889 20.792889-46.478222 46.478223-46.478222h96.796444a139.434667 139.434667 0 0 1 139.463111 139.463111v96.796444a46.478222 46.478222 0 0 1-92.984889 0v-96.796444c0-25.685333-20.792889-46.478222-46.478222-46.478222H233.130667a46.478222 46.478222 0 0 1-46.478223-46.506667z"></path></svg>',ao='<svg viewBox="0 0 32 32"><g><path d="m16 2a13.9 13.9 0 0 0 -9 3.32v-2.32a1 1 0 0 0 -2 0v5a1 1 0 0 0 1 1h5a1 1 0 0 0 0-2h-2.89a11.87 11.87 0 0 1 7.89-3 12 12 0 1 1 -11.67 9.23 1 1 0 1 0 -1.94-.46 13.72 13.72 0 0 0 -.39 3.23 14 14 0 1 0 14-14z"/><path d="m14 21.2a2 2 0 0 0 1.06-.31l5.11-3.19a2 2 0 0 0 0-3.4l-5.11-3.19a2 2 0 0 0 -3.06 1.69v6.4a2 2 0 0 0 2 2zm0-8.4 5.11 3.2-5.11 3.2z"/></g></svg>',lo='<svg viewBox="0 0 1024 1024"><path  d="M327.68 184.32a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z m368.64 0a81.92 81.92 0 0 1 81.92 81.92v491.52a81.92 81.92 0 1 1-163.84 0V266.24a81.92 81.92 0 0 1 81.92-81.92z" /></svg>',co='<svg viewBox="0 0 1024 1024"><path d="M768 213.333333H256a85.333333 85.333333 0 0 0-85.333333 85.333334v426.666666a85.333333 85.333333 0 0 0 85.333333 85.333334h170.666667a42.666667 42.666667 0 1 1 0 85.333333H256a170.666667 170.666667 0 0 1-170.666667-170.666667V298.666667a170.666667 170.666667 0 0 1 170.666667-170.666667h512a170.666667 170.666667 0 0 1 170.666667 170.666667v128a42.666667 42.666667 0 1 1-85.333334 0V298.666667a85.333333 85.333333 0 0 0-85.333333-85.333334z m-128 341.333334a128 128 0 0 0-128 128v85.333333a128 128 0 0 0 128 128h170.666667a128 128 0 0 0 128-128v-85.333333a128 128 0 0 0-128-128h-170.666667z"></path></svg>',uo='<svg viewBox="0 0 1024 1024"><path d="m768,213.33333l-512,0a85.33333,85.33333 0 0 0 -85.33333,85.33334l0,426.66666a85.33333,85.33333 0 0 0 85.33333,85.33334l170.66667,0a42.66667,42.66667 0 1 1 0,85.33333l-170.66667,0a170.66667,170.66667 0 0 1 -170.66667,-170.66667l0,-426.66666a170.66667,170.66667 0 0 1 170.66667,-170.66667l512,0a170.66667,170.66667 0 0 1 170.66667,170.66667l0,128a42.66667,42.66667 0 1 1 -85.33334,0l0,-128a85.33333,85.33333 0 0 0 -85.33333,-85.33334zm-128,341.33334a128,128 0 0 0 -128,128l0,85.33333a128,128 0 0 0 128,128l170.66667,0a128,128 0 0 0 128,-128l0,-85.33333a128,128 0 0 0 -128,-128l-170.66667,0z"></path><g stroke="null"><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><rect stroke="null" x="15122.523407" y="14826.656681" width="582" height="402" fill="none"></rect></g><g stroke="null" transform="matrix(0.6896517266997474,0,0,0.6896517266997474,-10241.200782450309,-10001.206060939305) "><path stroke="null" d="m15503.523407,14924.856681l-161.8,0c-66.2,0 -120,53.8 -120,120l0,161.8c0,22.1 17.9,40 40,40s40,-17.9 40,-40l0,-144.4l169.8,169.8c7.8,7.8 18,11.7 28.3,11.7c10.2,0 20.5,-3.9 28.3,-11.7c15.6,-15.6 15.6,-40.9 0,-56.6l-170.7,-170.6l146.1,0c22.1,0 40,-17.9 40,-40s-17.9,-40 -40,-40z"></path></g></g></svg>',ho='<svg viewBox="0 0 1024 1024"><path  d="M245.76 785.203V238.797c0-50.442 34.918-69.182 77.967-42.046l422.196 266.117c43.11 27.157 43.069 71.128 0 98.284L323.727 827.249c-43.11 27.177-77.967 8.315-77.967-42.046z" /></svg>',go='<svg viewBox="0 0 1024 1024"><path d="M412.245333 757.333333a42.666667 42.666667 0 0 1-56.490666-64l356.48-314.794666a42.666667 42.666667 0 0 1 56.746666 0.256l112.896 101.461333a42.666667 42.666667 0 1 1-57.088 63.488L740.266667 467.626667l-328.021334 289.706666zM810.666667 213.333333h-128a42.666667 42.666667 0 0 1 0-85.333333h170.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666666a42.666667 42.666667 0 0 1-85.333333 0V213.333333zM213.333333 213.333333v128a42.666667 42.666667 0 1 1-85.333333 0V170.666667a42.666667 42.666667 0 0 1 42.666667-42.666667h170.666666a42.666667 42.666667 0 1 1 0 85.333333H213.333333z m597.333334 597.333334v-128a42.666667 42.666667 0 0 1 85.333333 0v170.666666a42.666667 42.666667 0 0 1-42.666667 42.666667h-170.666666a42.666667 42.666667 0 0 1 0-85.333333h128zM213.333333 810.666667h128a42.666667 42.666667 0 0 1 0 85.333333H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667v-170.666666a42.666667 42.666667 0 0 1 85.333333 0v128z m170.666667-298.666667a128 128 0 1 1 0-256 128 128 0 0 1 0 256z m0-85.333333a42.666667 42.666667 0 1 0 0-85.333334 42.666667 42.666667 0 0 0 0 85.333334z"></path></svg>',fo=`<svg viewBox="0 0 1024 1024" style="transform: scale(1.1);"><path d="M0 0h1024v1024H0z" fill-opacity="0"></path><path d="M501.333333 127.573333a21.333333 21.333333 0 0 1 21.333334 0l316.928 182.954667a21.333333 21.333333 0 0 1 10.666666 18.474667v365.994666a21.333333 21.333333 0 0 1-10.666666 18.474667L522.666667 896.426667a21.333333 21.333333 0 0 1-21.333334 0l-316.928-182.954667a21.333333 21.333333 0 0 1-10.666666-18.474667V328.96a21.333333 21.333333 0 0 1 10.666666-18.474667zM512 219.946667L259.029333 365.952v292.053333L512 804.010667l252.928-146.005334V365.952L512 219.946667zM512 426.666667a85.333333 85.333333 0 1 1 0 170.666666 85.333333 85.333333 0 0 1 0-170.666666z"></path></svg>
`,po='<svg viewBox="0 0 1024 1024"><path d="M154.88 154.88a42.496 42.496 0 0 0 0 60.16L311.04 371.2 298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333v-177.92l178.346667 178.346667c-20.906667 15.786667-43.52 29.013333-68.266667 38.826666-15.36 6.4-24.746667 22.613333-24.746667 39.253334 0 30.72 31.146667 50.346667 59.306667 38.826666 34.133333-14.08 66.133333-32.853333 94.72-55.893333l57.173333 57.173333a42.496 42.496 0 1 0 60.16-60.16L215.466667 154.88c-16.64-16.64-43.52-16.64-60.586667 0zM810.666667 512c0 34.986667-6.4 68.693333-17.493334 99.84l65.28 65.28c23.893333-49.92 37.546667-105.813333 37.546667-165.12 0-163.413333-102.4-303.36-246.613333-358.4-25.173333-9.813333-52.053333 9.813333-52.053334 36.693333v8.106667c0 16.213333 10.666667 30.293333 26.026667 36.266667C733.013333 279.04 810.666667 386.56 810.666667 512z m-371.626667-268.373333l-7.253333 7.253333L512 331.093333V273.493333c0-37.973333-46.08-56.746667-72.96-29.866666zM704 512A192 192 0 0 0 597.333333 340.053333v76.373334l105.813334 105.813333c0.426667-3.413333 0.853333-6.826667 0.853333-10.24z"></path></svg>',mo='<svg viewBox="0 0 1024 1024"><path d="M128 426.666667v170.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h128l140.373333 140.373333c26.88 26.88 72.96 7.68 72.96-30.293333V273.493333c0-37.973333-46.08-57.173333-72.96-30.293333L298.666667 384H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667z m576 85.333333A192 192 0 0 0 597.333333 340.053333v343.466667c63.146667-31.146667 106.666667-96 106.666667-171.52zM597.333333 189.866667v8.533333c0 16.213333 10.666667 30.293333 25.6 36.266667C733.013333 278.613333 810.666667 386.56 810.666667 512s-77.653333 233.386667-187.733334 277.333333c-15.36 5.973333-25.6 20.053333-25.6 36.266667v8.533333c0 26.88 26.88 45.653333 51.626667 36.266667C793.6 815.36 896 675.84 896 512s-102.4-303.36-247.04-358.4c-24.746667-9.813333-51.626667 9.386667-51.626667 36.266667z"></path></svg>',vo='<svg viewBox="0 0 1024 1024"><path d="M512 951.04a435.2 435.2 0 1 1 435.2-435.2 435.2 435.2 0 0 1-435.2 435.2z m0-819.2a384 384 0 1 0 384 384A384 384 0 0 0 512 132.096z"></path><path d="M468.992 493.824l-130.048-75.008a20.992 20.992 0 0 0-31.232 18.176v150.016a20.992 20.992 0 0 0 31.232 18.176l130.048-75.008a20.992 20.992 0 0 0 0-36.352zM684.8 493.824l-129.536-75.008a21.248 21.248 0 0 0-31.744 18.432v149.504a21.248 21.248 0 0 0 31.744 18.432l129.536-75.008a20.992 20.992 0 0 0 0-36.352z"></path></svg>',bo='<svg viewBox="0 0 1024 1024" version="1.1"><path d="M800 170.666667A138.666667 138.666667 0 0 1 938.666667 309.333333v405.546667a138.666667 138.666667 0 0 1-138.666667 138.666667H224A138.666667 138.666667 0 0 1 85.333333 714.88V309.333333a138.666667 138.666667 0 0 1 130.816-138.453333L224 170.666667h576z m0 64H224l-6.144 0.256A74.666667 74.666667 0 0 0 149.333333 309.333333v405.546667c0 41.216 33.450667 74.666667 74.666667 74.666667h576a74.666667 74.666667 0 0 0 74.666667-74.666667V309.333333a74.666667 74.666667 0 0 0-74.666667-74.666666zM234.666667 512c0-134.229333 115.754667-203.733333 218.538666-145.109333A32 32 0 0 1 421.461333 422.4C361.856 388.437333 298.666667 426.410667 298.666667 512c0 85.546667 63.317333 123.562667 122.88 89.728a32 32 0 0 1 31.573333 55.637333C350.549333 715.733333 234.666667 646.101333 234.666667 512z m320 0c0-134.229333 115.754667-203.733333 218.538666-145.109333a32 32 0 0 1-31.744 55.552C681.856 388.437333 618.666667 426.410667 618.666667 512c0 85.546667 63.317333 123.562667 122.88 89.728a32 32 0 0 1 31.573333 55.637333C670.549333 715.733333 554.666667 646.101333 554.666667 512z"></path></svg>',yo='<svg viewBox="0 0 32 32"><g><path d="m16 2a14 14 0 1 0 14 14 14 14 0 0 0 -14-14zm0 26a12 12 0 1 1 12-12 12 12 0 0 1 -12 12z"/><path d="m14.5 11a1 1 0 0 0 -1 1v3h-2v-3a1 1 0 0 0 -2 0v8a1 1 0 0 0 2 0v-3h2v3a1 1 0 0 0 2 0v-8a1 1 0 0 0 -1-1z"/><path d="m19.5 11h-2a1 1 0 0 0 -1 1v8a1 1 0 0 0 1 1h2a3 3 0 0 0 3-3v-4a3 3 0 0 0 -3-3zm1 7a1 1 0 0 1 -1 1h-1v-6h1a1 1 0 0 1 1 1z"/></g></svg>',wo='<svg viewBox="0 0 1024 1024"><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m294.4 256H682.666667c-12.8-55.466667-34.133333-102.4-59.733334-153.6 76.8 29.866667 145.066667 81.066667 183.466667 153.6zM512 170.666667c34.133333 51.2 64 106.666667 81.066667 170.666666h-162.133334c17.066667-59.733333 46.933333-119.466667 81.066667-170.666666zM183.466667 597.333333c-8.533333-25.6-12.8-55.466667-12.8-85.333333s4.266667-59.733333 12.8-85.333333h145.066666c-4.266667 29.866667-4.266667 55.466667-4.266666 85.333333s4.266667 55.466667 4.266666 85.333333H183.466667z m34.133333 85.333334H341.333333c12.8 55.466667 34.133333 102.4 59.733334 153.6-76.8-29.866667-145.066667-81.066667-183.466667-153.6zM341.333333 341.333333H217.6c42.666667-72.533333 106.666667-123.733333 183.466667-153.6C375.466667 238.933333 354.133333 285.866667 341.333333 341.333333z m170.666667 512c-34.133333-51.2-64-106.666667-81.066667-170.666666h162.133334c-17.066667 59.733333-46.933333 119.466667-81.066667 170.666666z m98.133333-256H413.866667c-4.266667-29.866667-8.533333-55.466667-8.533334-85.333333s4.266667-55.466667 8.533334-85.333333h200.533333c4.266667 29.866667 8.533333 55.466667 8.533333 85.333333s-8.533333 55.466667-12.8 85.333333z m12.8 238.933334c25.6-46.933333 46.933333-98.133333 59.733334-153.6h123.733333c-38.4 72.533333-106.666667 123.733333-183.466667 153.6z m76.8-238.933334c4.266667-29.866667 4.266667-55.466667 4.266667-85.333333s-4.266667-55.466667-4.266667-85.333333h145.066667c8.533333 25.6 12.8 55.466667 12.8 85.333333s-4.266667 59.733333-12.8 85.333333h-145.066667z"></path></svg>',Se={play:ho,pause:lo,volume:[mo,po],fullscreen:[so,ro],pip:[co,uo],setting:fo,screenshot:go,playbackRate:vo,subtitle:bo,loop:ao,quality:yo,lang:wo,progressIndicator:null,loadingIndicator:null,previous:null,next:null,chromecast:null,airplay:null,danmaku:null,playlist:null};var E;(e=>{e.setupIcons=t=>{for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Se[n]=t[n]);return Se},e.get=t=>Se[t]})(E||(E={}));const xo=(e,t)=>{function n(i){let o=i.target;o&&(e.$root.contains(o)||e.$root==o)?e.$root.classList.add(ge):e.$root.classList.remove(ge)}t&&e.$root.classList.add(ge),document.addEventListener("click",n),document.addEventListener("contextmenu",n),e.on("destroy",()=>{document.removeEventListener("click",n),document.removeEventListener("contextmenu",n)})},ko=e=>e.$root.classList.contains(ge),$o=e=>{e.on("play",()=>{e.$root.classList.add(ve)}),e.on(["pause","videosourcechange"],()=>{e.$root.classList.remove(ve)})},Ut=e=>{const t=()=>e.$root.classList.add(Q),n=()=>{e.isSourceChanging||e.$root.classList.remove(Q)};e.$video.preload!="none"&&t(),e.on("loadstart",()=>{e.$video.preload=="none"&&n()}),e.on(["seeking","videoqualitychange","videosourcechange"],t),e.on(["canplaythrough","playing","pause","seeked","error"],n),e.on(e.options.autoplay||Ln?"loadedmetadata":"canplay",()=>e.$root.classList.remove(Q)),e.on(["waiting","playing"],i=>{i.type=="waiting"&&t();const s=e.currentTime,r=()=>{s!==e.currentTime?(n(),e.off("timeupdate",r)):t()};e.on("timeupdate",r)})},Eo=e=>e.$root.classList.contains(Q),So=e=>{e.on("fullscreenchange",t=>{if(t.payload.isWeb)e.$root.classList.toggle(ae);else{if(!e._requestFullscreen)return;e.$root.classList.toggle(Re)}})},Lo=e=>e.$root.classList.contains(Re)||e.$root.classList.contains(ae),To=e=>e.$root.classList.contains(ae),_o=(e,t)=>{$o(e),Ut(e),So(e),$||xo(e,t.autoFocus)};function ye(e,t,n){return Math.min(Math.max(e,t),n)}function Le(e){return e<10?"0"+e:""+e}function O(e){if(!isFinite(e))return"--:--";const t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return(t>0?Le(t)+":":"")+Le(n)+":"+Le(i)}function Co(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click()}const Ao=e=>{var t;try{const n=e.$video,i=e.$root,o=e.context.ui,s=document.createElement("canvas"),r=n.videoWidth,a=n.videoHeight;s.width=r,s.height=a,s.getContext("2d").drawImage(n,0,0,r,a);const d=((t=o.$watermark)==null?void 0:t.style)||{},l=d.top,u=d.left,h=d.right,g=d.bottom;if(o.$watermark&&[l,u,h,g].filter(f=>f!=null).length>1){const f=o.$watermark,p=f.offsetLeft,m=f.offsetTop,v=f.offsetWidth,y=f.offsetHeight,w=o.$watermark.getBoundingClientRect(),S=w.width,b=w.height;let k=0,x=0;if(u)k=p;else if(h){const L=i.clientWidth-p-v;k=r-L-v}if(l)x=m;else if(g){const L=i.clientHeight-m-y;x=r-L-y}s.getContext("2d").drawImage(o.$watermark,k,x,S,b)}return s.toDataURL("image/png")}catch(n){return n}},Wt=e=>{if(Eo(e)||isNaN(e.duration)){e.emit("notice",{text:e.locales.get("Please wait for loading to complete")});return}const t=Ao(e);if(t instanceof Error)e.emit("notice",{text:t.message});else{const n=e.options.source.title||"OPlayer-ScreenShot";Co(t,n+"-"+O(e.currentTime).replace(/:/g,"-")+".png")}},Xt=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1500,n=null;const i=()=>n&&clearTimeout(n);return{callee:()=>{i(),n=setTimeout(()=>{e()},t)},clear:i}},Po=(e,t)=>{var n=[],i=e.parentNode.children;for(let o=0,s=i.length;o<s;o++)i[o]!==e&&(t==null||t(i[o]),n.push(i[o]));return n};function Pe(e,t){return e.classList.add(t),e}function we(e,t){return e.classList.remove(t),e}function M(e,t){return e.classList.contains(t)}const H={dragStart:$?"touchstart":"mousedown",dragMove:$?"touchmove":"mousemove",dragEnd:$?"touchend":"mouseup"},gt=10,Te=5,ce={ArrowUp:e=>{const t=e.volume*100+gt;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowDown:e=>{const t=e.volume*100-gt;e.setVolume(t/100),e.emit("notice",{text:e.locales.get("Volume: %s",~~(e.volume*100)+"%")})},ArrowLeft:(e,t)=>{var n,i;if(e.options.isLive||e.hasError)return;e.currentTime-(((n=t.theme.progress)==null?void 0:n.backward)||Te)<0?e.seek(0):e.seek(e.currentTime-(((i=t.theme.progress)==null?void 0:i.forward)||Te)),e.emit("notice",{text:O(e.currentTime)+" / "+O(e.duration)})},ArrowRight:e=>{e.options.isLive||e.hasError||(e.seek(e.currentTime+Te),e.emit("notice",{text:O(e.currentTime)+" / "+O(e.duration)}))}," ":e=>e.togglePlay(),k:e=>e.togglePlay(),Escape:e=>{e.isFullScreen?e.exitFullscreen():e.$root.classList.contains(ae)&&e.emit("fullscreenchange",{isWeb:!0})},f:e=>e.toggleFullScreen(),w:e=>e.emit("fullscreenchange",{isWeb:!0}),s:Wt,m:e=>e.isMuted?e.unmute():e.mute()};function Oo(e){var t,n;const i=e.player,o=e.config;if($&&!((t=o.keyboard)!=null&&t.focused)&&!((n=o.keyboard)!=null&&n.global))return;function s(r){var a,d,l;if(((a=document.activeElement)==null?void 0:a.tagName)=="INPUT"||((d=document.activeElement)==null?void 0:d.tagName)=="TEXTAREA"||(l=document.activeElement)!=null&&l.getAttribute("contenteditable")||o.keyboard.focused&&!ko(i)||r.altKey||r.ctrlKey||r.metaKey||r.shiftKey)return;const u=r.key;ce[u]&&(r.preventDefault(),ce[u](i,o))}e.keyboard={register:function(a){for(const d in a)Object.prototype.hasOwnProperty.call(a,d)&&(ce[d]=a[d])},unregister:function(a){a.forEach(d=>{delete ce[d]})}},document.addEventListener("keydown",s),i.on("destroy",()=>{document.removeEventListener("keydown",s)})}const _e="speed";function zo(e){const t=e.player,n=e.config.speeds,i=e.setting;n!=null&&n.length&&i&&(i.register({key:_e,type:"selector",name:t.locales.get("Speed"),icon:E.get("playbackRate"),children:n.map(o=>({name:+o==1?t.locales.get("Normal"):o+"x",value:+o,default:t.playbackRate==+o})),onChange:o=>{let s=o.value;return t.setPlaybackRate(s)}}),t.on("ratechange",()=>{const o=t.playbackRate,s=n.findIndex(r=>+r==o);s==-1?i.updateLabel(_e,o+"x"):i.select(_e,s,!1)}))}const Io=60;function Mo(e){var t;const n=e.player,i=e.config.theme,o=e.$mask,s=(t=i.controller)==null?void 0:t.slideToSeek;$&&!n.options.isLive&&s&&s!="none"&&n.once("loadedmetadata",()=>{let r=0,a=0,d=0,l=0,u;const h=n.$root.getBoundingClientRect();s=="always"&&(o.addEventListener("touchstart",p=>{if(M(n.$root,W))return;const m=p.changedTouches[0],v=m.clientX,y=m.clientY;r=v,a=y}),o.addEventListener("touchmove",g),o.addEventListener("touchend",f)),s=="long-touch"&&o.addEventListener("touchstart",p=>{if(M(n.$root,W))return;const m=p.changedTouches[0],v=m.clientX,y=m.clientY;r=v,a=y,u=window.setInterval(()=>{d+=100,d>=1e3&&(clearInterval(u),n.emit("notice",{text:"slid left or right to seek",pos:"top"}),o.addEventListener("touchmove",g))},100),o.addEventListener("touchend",f,{once:!0})});function g(p){if(r==0&&a==0)return;const m=p.changedTouches[0],v=m.clientX,y=m.clientY,w=v-r,S=a-y;if(Math.abs(w)<2&&Math.abs(S)<2)return;const b=Ro(w,S);(b>=-45&&b<45||b>=135&&b<=180||b>=-180&&b<-135)&&(p.preventDefault(),l=Io*w/h.width,n.emit("notice",{text:O(ye(n.currentTime+l,0,n.duration))+" / "+O(n.duration),pos:"top"}))}function f(){r==0&&a==0||(s=="long-touch"&&d<1e3&&(u&&clearInterval(u),o.removeEventListener("touchmove",g)),Math.abs(l)>=1&&n.seek(ye(n.currentTime+l,0,n.duration)),r=a=l=d=0)}})}function Ro(e,t){return Math.atan2(t,e)*180/Math.PI}function Bo(e,t){t.forceLandscapeOnFullscreen&&!oe&&$&&e.on("fullscreenchange",n=>{var i,o,s,r;n.payload.isWeb||!e._requestFullscreen||(e.isFullScreen?(o=(i=globalThis.screen.orientation)==null?void 0:i.lock)==null||o.call(i,"landscape"):(r=(s=globalThis.screen.orientation)==null?void 0:s.unlock)==null||r.call(s))})}const ft=c.css(st||(st=N([`
  font-variant-numeric: tabular-nums;
  font-size: 0.875em;
`]))),Fo=c.css("width:0.5em;height:0.5em;background-color:var(--primary-color);border-radius:50%;margin-right:0.5em"),X=c.css(`
    position: absolute;
    top: 10px;
    right: 50%;
    border-radius: 2px;
    box-sizing: border-box;
    transform: translate(50%, -100%);
    transition: opacity 0.2s ease, top 0.2s ease;
    font-size: 0.875em;
`),Ho=c.css(`
    top: calc(100% - 10px);
    right: 50%;
    transform: translateX(50%);
`),Be=c.css({position:"relative",display:"flex",["& ."+X]:{visibility:"hidden",opacity:0,"background-color":"var(--shadow-background-color)"}}),Yt=c.css({"&:hover":{"padding-top":"0.5em","margin-top":"-0.5em",["& ."+X]:{visibility:"visible",opacity:1,top:0}},"&[data-dropdown-pos=top]:hover":{"padding-bottom":"0.5em","margin-bottom":"-0.5em",["& ."+X]:{top:"100%"}}}),jo=c.css({padding:"0 0.5em","min-width":"6em",display:"block",height:"2.4em","line-height":"2.4em",cursor:"pointer","text-align":"center","word-break":"keep-all","&:nth-last-child(1)":{"margin-bottom":"0px"},"& *":{"pointer-events":"none"},"&[aria-checked=true]":{color:"var(--primary-color)"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"}}),Kt=c.cls("textIcon"),xe=c.css({display:"flex","align-items":"center",["& > ."+C+":last-child"+($?", & >  ."+C+'[aria-label="Play"], & >  .'+C+'[aria-label="Pause"]':"")]:{"margin-right":0}}),Gt=c.css({color:"#fff",height:"2.375em",display:"flex","box-sizing":"border-box","justify-content":"space-between","align-items":"center","padding-bottom":$?0:"0.25em",["& ."+C+"."+Kt]:{width:"auto","min-width":"2em","font-size":"0.875em",padding:"0 4px","border-radius":"2px"},["& ."+C]:Object.assign({width:"2em",height:$?"auto":"2em","margin-right":"0.5em","justify-content":"center","align-items":"center",display:"inline-flex","& > *":{height:"1.5em",width:"1.5em","pointer-events":"none",transition:"transform .2s ease-in-out"}},$?{"&:active > *":{transform:"scale(.9)"}}:{"&:hover":{"background-color":"rgb(255 255 255 / .2)"}})}),pt=c.css({flex:1,height:"100%","padding-left":"0.5em","> div":{height:"100%",display:"flex","align-items":"center"}}),R=c.css("display: block;"),No=e=>c.css({"z-index":"8","max-height":"75%","border-radius":"2px",display:"block",position:"absolute",right:"1em",[e]:e=="top"?"var(--control-bar-height)":"2.5em",overflow:"auto","background-color":"var(--shadow-background-color)",fill:"#fff","&::-webkit-scrollbar":{width:"2px"},"&::-webkit-scrollbar-thumb":{background:"var(--primary-color)"},"& > div":{display:"none","font-size":"0.875em"},["& > div."+R]:{display:"block"}}),Do=c.css("min-width: 15.5em;"),qo=c.css("min-width: 10.5em;"),Qt=c.css(`
  display: none;
  width: 1.4em;
  height: 1.4em;
`),Vo=c.css(`
  width: 2em;
  height: 2em;
  margin: 0 -10px 0 -5px;
`),Uo=c.css(`
  width: 2em;
  height: 2em;
  transform: rotate(180deg);
  margin-left: -10px;
`),Jt=c.css({position:"absolute",cursor:"pointer",top:"0",left:"0",right:"0",bottom:"0","background-color":"#ccc",transition:".3s","border-radius":"34px","&:before":{position:"absolute",content:'""',height:"1em",width:"1em",left:"0.25em",bottom:"0.1875em","background-color":"white",transition:".3s","border-radius":"50%"}}),Wo=c.css(`
  position: relative;
  width: 2.5em;
  height: 1.375em;
`),Xo=c.css(`
  white-space: nowrap;
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.8em;
`),Yo=c.css({height:"2.4em",cursor:"pointer",color:"#fff","justify-content":"space-between","align-items":"center",padding:"0 0.75em","line-height":"1",display:"flex",overflow:"hidden","& > *":{"pointer-events":"none"},"&:hover":{"background-color":"rgba(255, 255, 255, 0.1)"},"&[aria-checked='true']":{["& ."+Qt]:{display:"block"},"&[data-index]":{"background-color":"rgba(255, 255, 255, 0.1)"},["& ."+Jt]:{"background-color":"var(--primary-color)","&:before":{transform:"translateX(1em)"}}}}),Fe=c.css({display:"flex","align-items":"center","margin-right":"10px","& > svg":{width:"1.7em",height:"1.7em","margin-right":"0.5em"}}),Zt=c.css(`
  display: flex;
  align-items: center;
`),Ko=c.css({width:"100%",display:"flex","align-items":"center","border-bottom":"1px solid rgb(255 255 255 / 10%)"}),He=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vo;return"<svg "+(e?'class="'+e+'"':"")+' viewBox="0 0 32 32"><path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"></path></svg>'},Go=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+Fe+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <svg class=`+Qt+` viewBox="0 0 24 24">
      <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"></path>
    </svg>
`},Qo=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+Fe+`">
      `+t+`
      <span>`+e+`</span>
    </div>
    <div class=`+Zt+`>
      <span role="label" class=`+Xo+`></span>
      `+He()+`
    </div>
`},Jo=e=>'<div class="'+Ko+`">
      `+He(Uo)+`
      <span>`+e+`</span>
    </div>
`,Zo=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return'<div class="'+Fe+`">
    `+t+`
    <span>`+e+`</span>
  </div>
  <div class=`+Zt+`>
    <label class=`+Wo+`>
      <span class=`+Jt+`></span>
    </label>
  </div>
`};function mt(e){let t=e.type,n=e.key,i=e.name,o=e.icon,s=e.default,r=e.index,a=c.create("div."+Yo,{"data-key":n,role:t?"menuitem":"menuitemradio","aria-haspopup":t=="selector"});const d={$row:a,$label:void 0};switch(t){case"switcher":a.innerHTML=Zo(i,o),a.setAttribute("aria-checked",s||!1);break;case"selector":a.innerHTML=Qo(i,o),d.$label=a.querySelector('span[role="label"]');break;case"back":a.innerHTML=Jo(i);break;default:a.innerHTML=Go(i,o),a.setAttribute("aria-checked",s||!1),typeof r=="number"&&a.setAttribute("data-index",r.toString());break}return d}function en(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!n||n.length==0)return;const o=i.key,s=i.target,r=i.parent,a=i.isSelectorOptionsPanel,d=i.name;let l={},u=o||"root";t[0]&&u=="root"?(l=t[0],u=t[0].key):(l.$ref=c.create("div."+(t[0]&&a?qo:Do),{"data-key":u,role:"menu"}),l.key=u,t.push(l)),l.parent=r;const h=l.key=="root";if(!h){const g=mt({name:d,type:"back"}),f=g.$row;f.addEventListener("click",()=>{var p;l.$ref.classList.remove(R),(p=l.parent)==null||p.$ref.classList.add(R)}),c.render(f,l.$ref)}for(let g=0;g<n.length;g++){const f=n[g],p=f.name,m=f.type,v=f.key,y=f.children,w=f.icon,S=f.default,b=f.onChange,k=mt(Object.assign({name:p,type:m,key:v,icon:w,default:S},!h&&a&&{index:g})),x=k.$row,L=k.$label;if(c.render(x,l.$ref),c.render(l.$ref,s),y){const _=m=="selector"&&y.every(B=>!B.type),T=en(e,t,y,{key:v,target:s,parent:l,isSelectorOptionsPanel:_,name:m=="selector"?p:void 0});if(x.addEventListener("click",()=>{l.$ref.classList.remove(R),T.$ref.classList.add(R)}),_){const B=y.find(I=>I.default);B&&(L.innerText=B.name),T.select=(I,le)=>{var je;if(I==-1){(je=T.$ref.querySelector("[aria-checked=true]"))==null||je.setAttribute("aria-checked","false");return}const $e=T.$ref.querySelectorAll("[aria-checked]");if($e.item(I).getAttribute("aria-checked")!="true"){$e.forEach(cn=>cn.setAttribute("aria-checked","false")),$e.item(I).setAttribute("aria-checked","true");const Ne=y[I];L.innerText=Ne.name,le&&(b==null||b(Ne,{index:I,player:e}))}},T.$ref.addEventListener("click",I=>{const le=I.target;le.hasAttribute("data-index")&&(T.select(+le.getAttribute("data-index"),!0),l.$ref.classList.add(R),T.$ref.classList.remove(R))})}}else m=="switcher"&&(x.select=function(_){const T=this.getAttribute("aria-checked")=="true";this.setAttribute("aria-checked",""+!T),_&&(b==null||b(!T))},x.addEventListener("click",()=>x.select(!0)))}return l}function ei(e){var t,n;const i=e.player,o=e.$root,s=e.config;if(s.settings===!1)return;const r=(t=s.theme.controller)==null?void 0:t.setting,a=s.settings||[],d=((n=s.theme.controller)==null?void 0:n.header)&&(r=="top"||$&&r=="auto"),l=c.create("div."+No(d?"top":"bottom"),{"aria-label":"Setting"});let u=[],h=!1;const g={loop:{name:i.locales.get("Loop"),type:"switcher",key:"loop",icon:E.get("loop"),default:i.isLoop,onChange:b=>i.setLoop(b)}};y(a.map(b=>typeof b=="string"?g[b]:b));function f(b){const k=Array.isArray(b)?b:[b];y(k.map(x=>{const L=u.find(_=>_.key==x.key);if(L){p(L.key);return}return x}).filter(Boolean))}function p(b){var k,x;h&&((x=(k=u[0])==null?void 0:k.$ref.querySelector("[data-key="+b+"]"))==null||x.remove(),u=u.filter(L=>L.key===b?(L.$ref.remove(),L=null,!1):!0))}function m(b,k){if(!h)return;const x=l.querySelector('[data-key="'+b+'"] span[role="label"]');x&&(x.innerText=k)}function v(b,k){var x;let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(h)if(typeof k=="number")for(let _=0;_<u.length;_++){const T=u[_];if(T.key==b){T.select(k,L);break}}else(x=l.querySelector('[data-key="'+b+'"][aria-checked]'))==null||x.select(L)}function y(b){var k;b.length<1||(h||(h=!0,c.render(l,o),S(),(k=e.keyboard)==null||k.register({c:w})),en(i,u,b,{target:l}))}function w(){i.$root.classList.add(W),u[0].$ref.classList.add(R);function b(k){l.contains(k.target)||(i.$root.classList.remove(W),u.forEach(x=>x.$ref.classList.remove(R)),document.removeEventListener("click",b))}setTimeout(()=>{document.addEventListener("click",b)})}function S(){const b=c.create("button",{class:C+" "+F,"aria-label":i.locales.get("Settings"),"data-tooltip-pos":r=="top"?"down":""},""+E.get("setting"));b.addEventListener("click",x=>{x.stopPropagation(),w()});const k=[s.pictureInPicture&&i.isPipEnabled,s.fullscreen].filter(Boolean).length;if(d){const x=e.$controllerBar.lastElementChild;x.insertBefore(b,x.children[x.children.length])}else{const x=e.$controllerBottom.lastElementChild;x.insertBefore(b,x.children[x.children.length-k])}}e.setting={register:f,unregister:p,updateLabel:m,select:v}}const ti=c.css({position:"absolute",top:0,left:0,right:0,"z-index":7,padding:"0.5em 0.5em 0",transition:"transform 0.3s ease",height:"var(--control-bar-height)","&::before":{position:"absolute",content:"''",width:"100%",display:"block",top:0,left:0,bottom:"-1em","z-index":-1,transition:"opacity 0.3s ease","pointer-events":"none","background-image":"linear-gradient(rgba(0, 0, 0, .3), transparent)"},"& > div:nth-child(1)":{overflow:"hidden",flex:"1 1 0","margin-right":"0.5em"},["& > div:nth-child(2) ."+Be+":last-child ."+X]:{right:"max(50%,3em)"},["@global ."+A+" &"]:{transform:"translateY(calc(-100%))","&::before":{opacity:0}}}),ni=c.css("width: 2.5em;height: 2.5em;margin:0 -10px;transform: rotate(180deg);"),vt=c.css("flex:1;font-size:1em;margin: 0 0.25em;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"),oi=(e,t)=>{var n,i,o;const s=e.player,a=(n=e.config.theme.controller)==null?void 0:n.header;if(!a)return;const d=a==null?void 0:a.back,l=d&&$,u=e.$controllerBar=c.create("div",{class:ti+" "+Gt},'<div class="'+xe+`">
    `+(l?`<span role='button' class="`+ni+" "+(d=="fullscreen"?J:"")+'">'+He("")+"</span>":"")+`
      <h2 class='`+vt+"'>"+(((o=(i=s.options)==null?void 0:i.source)==null?void 0:o.title)||"")+`</h2>
    </div>
    <div class="`+xe+'"></div>'),h=u.querySelector("."+vt);if(l){const g=h.previousElementSibling;g.addEventListener("click",f=>{s.isFullScreen&&s.exitFullscreen(),s.emit("backward",f)}),d=="fullscreen"&&s.on("fullscreenchange",()=>{s.isFullScreen?g.classList.remove(J):g.classList.add(J)})}s.on("videosourcechange",g=>{let f=g.payload;f.then||(h.innerText=f.title||"")}),s.on("sourcechangeerror",g=>{var f,p;let m=g.payload;(f=m.source)!=null&&f.title||(h.innerText=((p=m.e)==null?void 0:p.message)||"ERROR")}),s.on("videosourcechanged",g=>{let f=g.payload;h.innerText=f.title||""}),c.render(u,t)},ii=c.css(rt||(rt=N([`
  width: 2.65em;
  display: flex;
  height: 7.65em;
  box-sizing: border-box;
  flex-direction: column;
`]))),bt=c.css(`
  width: 100%;
  text-align: center;
  height: 28px;
  line-height: 28px;
  margin-bottom: 2px;
  font-size: 0.75em;
`),yt=c.css(`
  position: relative;
  display: flex;
  justify-content: center;
  flex: 1;
  cursor: pointer;
  padding: 5px 0 14px;
`),si=c.css(`
  height: 100%;
  width: 4px;
  position: relative;
`),ri=c.css(`
  width: 4px;
  height: 100%;
  overflow: hidden;
  border-radius: 2px;
  background: rgba(255, 255, 255, 0.3);
`),wt=c.css(`
  height: 100%;
  background-color: var(--primary-color);
  transform-origin: 0 100%;
`),xt=c.css(at||(at=N([`
  position:absolute;
  bottom: 0;
  top: auto;
  left: -4px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
  vertical-align: middle;
  pointer-events: none;
  `]))),ai=(e,t)=>{const n=c.create("div."+ii,{},"<div class="+bt+`>100</div>

    <div class=`+yt+`>
        <div class=`+si+`>
          <div class=`+ri+`>
            <div class=`+wt+`></div>
          </div>

          <div class=`+xt+`></div>
        <div>
      </div>`),i=n.querySelector("."+yt),o=n.querySelector("."+xt),s=n.querySelector("."+wt),r=n.querySelector("."+bt),a=u=>{const h=i.getBoundingClientRect(),g=(h.bottom-(u.clientY||u.changedTouches[0].clientY))/h.height;return g>=1?1:g<=0?0:g},d=u=>{u.preventDefault(),e.setVolume(l(a(u)))},l=u=>(r.innerText=""+~~(u*100),s.style.transform="scaleY("+u+")",o.style.bottom="calc("+~~(u*100)+"% - 6px)",u);l(e.volume),e.on("volumechange",()=>{l(e.isMuted?0:e.volume)}),i.addEventListener(H.dragStart,u=>{d(u),document.addEventListener(H.dragMove,d,{passive:!1}),document.addEventListener(H.dragEnd,()=>{document.removeEventListener(H.dragMove,d)},{once:!0})}),c.render(n,t)},tn=c.css(`
  display: none;
  bottom: 15px;
  position: absolute;
  left: 50%;
  padding: 6px 8px;
  background-color: var(--shadow-background-color);
  color: #fff;
  border-radius: 2px;
  white-space: nowrap;
  word-break: nowrap;
  transform: translateX(-50%);`),nn=c.css({position:"absolute",width:"0.8em",height:"0.33em","background-color":"var(--highlight-color)",transform:"translateX(-3px)",transition:"all 0.2s",["&:hover > ."+tn]:{display:"block"}});function li(e,t){const n=e.player,i=e.config.highlight;let o=[];t.style.setProperty("--highlight-color",(i==null?void 0:i.color)||"#FFF");function s(l){const u=c.create("div."+nn,{},'<span class="'+tn+'">'+l.text+"</san>");return u.style.left=l.left+"%",u}function r(l,u){o.forEach(h=>h.remove());for(let h=0;h<l.length;h++){const g=l[h],f=s({left:g.time/u*100,text:g.text});o.push(f),c.render(f,t)}}function a(l){d(l)}function d(l){n.duration!==1/0&&n.duration>0?r(l,n.duration):n.once("loadedmetadata",function(){r(l,n.duration)})}i!=null&&i.source&&d(i.source),n.on("videosourcechange",()=>{o.forEach(l=>l.remove()),o=[]}),e.changHighlightSource=a}const on=c.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  transform: translateX(-50%);
  background-position-y: center;
  border-radius: 2px;
  display: none;`),sn=c.css(`
  position: absolute;
  left: 0;
  bottom: 12px;
  pointer-events: none;
  border-radius: 2px;
  display: none;`),ci={width:160,height:90};function di(e,t){const n=e.config.thumbnails,i=e.player;let o=!1,s;const r=c.render(c.create("div."+on),t);function a(l){if(!o||!l)o=!0,r.style.width=s.width+"px",r.style.height=s.height+"px",Array.isArray(s.src)||(r.style.backgroundImage="url("+s.src+")");else{const u=[s.width/2,t.clientWidth],h=u[0],g=u[1],f=h/g,p=(g-h)/g;if(r.style.left=(l<f?f:l>p?p:l)*100+"%",Array.isArray(s.src)){const m=s.number*l,v=Math.ceil(m/(s.x*s.y))-1,y=m%s.number,w=Math.floor(y/s.x),S=Math.ceil(y%s.x);r.style.backgroundImage="url("+s.src[v]+")",r.style.backgroundPosition=-S+"00% "+-w+"00%"}else{const m=Math.floor(l*s.number);r.style.backgroundPositionX="-"+m+"00%"}}}function d(l){o=!1,s=Object.assign({},ci,l),s.y&&!Array.isArray(s.src)&&(s.src=[s.src]),e.progressHoverCallback.push(a)}n!=null&&n.src&&d(n),i.on("videosourcechange",()=>{o=!1,r.style.backgroundImage="none",e.progressHoverCallback.splice(e.progressHoverCallback.findIndex(l=>l==a),1)}),e.changThumbnails=d}const Oe=c.css({"background-color":"hsla(0, 0%, 100%, 0.4)"}),ze=c.css({"background-color":"var(--primary-color)"}),ie=c.css({"pointer-events":"none",position:"relative","& > *":{display:"block",position:"absolute",width:"1.4em",height:"1.4em",top:"0",left:"0",margin:"-0.535em 0 0 -0.7em",transform:$?"none":"scale(0)",transition:"transform 0.3s ease","z-index":"1"},"& > *:not(svg)":{width:"1em",height:"1em",margin:"-0.335em 0 0 -0.5em","border-radius":"50%","background-color":"#fff"}}),Ie=c.css({position:"absolute",left:"0","border-radius":"2px",padding:"6px 8px","background-color":"var(--shadow-background-color)",color:"#fff","z-index":"2","pointer-events":"none",transform:"translateX(-50%)",display:"none",bottom:"15px"}),j=c.css("/* progressDragging */"),rn=c.css(Object.assign({position:"relative","box-sizing":"border-box",padding:"0.5em",cursor:"pointer",width:"100%","font-size":"0.75em",transition:"padding 0.3s ease",["&."+j+" ."+Ie+", &."+j+" ."+on+", &."+j+" ."+sn]:{display:"block"}},$?{["@global ."+A+" ."+ie+" > *"]:{transform:"scale(0)"}}:{["&."+j+" ."+ie+" > *, &:hover ."+ie+" > *"]:{transform:"scale(1)"}})),ui=c.css({position:"relative",height:"0.33em",width:"100%","background-color":"hsla(0, 0%, 100%, 0.2)",["& ."+Oe+", & ."+ze]:{position:"absolute",left:"0",top:"0",bottom:"0","pointer-events":"none"}}),kt=(e,t)=>{var n;const i=e.player,o=e.config;if(i.options.isLive)return;const s=e.$progress=c.create("div."+rn,{},"<div class="+ui+`>
      <div class="`+Ie+`">00:00</div>
      <div class="`+Oe+`" style="width:0%"></div>
      <div class="`+ze+`" style="width:0%"></div>
      <div class="`+ie+`" style="transform: translateX(0%);">
        `+(E.get("progressIndicator")||"<span />")+`
      </div>
  </div>`),r=s.firstElementChild;(n=o.thumbnails)!=null&&n.isVTT?console.warn("vtt thumbnails support by @oplayer/pluins"):di(e,r),e.vttThumbnailsCls=sn,li(e,r);const a=s.querySelector("."+Oe),d=s.querySelector("."+ze),l=s.querySelector("."+ie),u=s.querySelector("."+Ie);let h=!1;const g=p=>{const m=s.getBoundingClientRect(),v=((p.clientX||p.changedTouches[0].clientX)-m.left)/m.width;return v>=1?1:v<=0?0:v},f=p=>{const m=g(p),v=m*100;return d.style.width=v+"%",l.style.transform="translateX("+v+"%)",u.innerText=O(i.duration*m),u.style.left=v+"%",m};s.addEventListener(H.dragStart,p=>{h=!0,s.classList.add(j);const m=f(p);e.progressHoverCallback.forEach(y=>y(m));function v(y){y.preventDefault();const w=f(y);e.progressHoverCallback.forEach(S=>S(w))}document.addEventListener(H.dragMove,v,{passive:!1}),document.addEventListener(H.dragEnd,y=>{s.classList.remove(j),h=!1,document.removeEventListener(H.dragMove,v),isNaN(i.duration)||i.seek(g(y)*i.duration)},{once:!0})}),$||(s.addEventListener("mouseenter",()=>{h||e.progressHoverCallback.forEach(p=>p())}),s.addEventListener("mousemove",p=>{if(h)return;s.classList.add(j),p.target.classList.contains(nn)?u.style.display="none":u.removeAttribute("style");const m=g(p);u.innerText=O(i.duration*m),u.style.left=m*100+"%",e.progressHoverCallback.forEach(v=>v(m))},{passive:!1}),s.addEventListener("mouseleave",()=>{h||s.classList.remove(j)})),i.on(["timeupdate","seeking"],()=>{if(h)return;const p=i.currentTime,m=i.duration,v=p/m*100||0;d.style.width=v+"%",l.style.transform="translateX("+v+"%)"}),i.on("progress",()=>{const p=i.buffered.length?i.buffered.end(i.buffered.length-1)/i.duration*100:0;a.style.width=p+"%"}),i.on("videosourcechange",()=>{a.style.width="0%",d.style.width="0%",l.style.transform="translateX(0%)"}),c.render(s,t)},$t=c.css({position:"absolute",left:0,right:0,bottom:0,"z-index":7,padding:"0 0.5em",transition:"transform 0.3s ease, padding 0.3s ease","min-height":"var(--control-bar-height)","&::before":{position:"absolute",content:"''",width:"100%",display:"block",bottom:0,left:0,"z-index":-1,top:"-1em",transition:"opacity 0.3s ease","pointer-events":"none","background-image":"linear-gradient(transparent, rgba(0, 0, 0, .3))"},["@global ."+A+" &"]:{"pointer-events":"none",transform:"translateY(calc(100% - 0.55em))",padding:0,"&::before":{opacity:0}},["@global ."+A+" ."+rn]:{"padding-left":0,"padding-right":0}}),hi=(e,t)=>{var n,i,o;const s=e.player,r=e.config,a=c.render(c.create("div."+$t),t);(n=r.theme.progress)!=null&&n.mini||c.css({["@global ."+A+" ."+$t]:{transform:"translateY(100%)"}});const d=[s.locales.get("Play"),s.locales.get("Pause"),s.locales.get("Screenshot"),s.locales.get("Picture in Picture"),s.locales.get(s.isFullscreenEnabled?"Fullscreen":"WebFullscreen"),s.locales.get("Previous"),s.locales.get("Next")],l=d[0],u=d[1],h=d[2],g=d[3],f=d[4],p=d[5],m=d[6],v=E.get("previous")||"",y=E.get("next")||"",w=e.$controllerBottom=c.create("div."+Gt,{},'<div class="'+xe+`">

    `+(v&&'<button class="'+C+" "+F+'" aria-label="'+p+'" >'+v+"</button>")+`

      <button
        class="`+C+" "+(s.isPlaying?te:G)+" "+F+`"
        aria-label="`+l+`"
      >
        `+E.get("play")+`
        `+E.get("pause")+`
      </button>

      `+(y&&'<button class="'+C+" "+F+'" aria-label="'+m+'">'+y+"</button>")+`

      `+(s.options.isLive?'<span class="'+Fo+'"></span>':"")+`

      <span class=`+ft+">"+(s.options.isLive||s.$video.preload=="none"?"00:00":"00:00 / --:--")+`</span>
    </div>

    <div class="`+pt+`"></div>

    <div class="`+xe+`">
      <div class="`+Be+" "+Yt+`">
        <button class="`+C+" "+(s.isMuted?te:G)+`" aria-label="Volume">
            `+E.get("volume")[0]+`
            `+E.get("volume")[1]+`
        </button>
        `+(oe?"":"<div class="+X+"></div>")+`
      </div>

      `+(r.screenshot?'<button class="'+C+" "+F+'" aria-label="'+h+`">
              `+E.get("screenshot")+`
            </button>`:"")+`

      `+(r.pictureInPicture&&s.isPipEnabled?`<button
              class="`+C+" "+F+" "+(s.isInPip?te:G)+`"
              aria-label="`+g+`">
                `+E.get("pip")[0]+`
                `+E.get("pip")[1]+`
            </button>`:"")+`

      `+(r.fullscreen?'<button class="'+C+" "+G+" "+F+'" aria-label="'+f+`">
                `+E.get("fullscreen")[0]+`
                `+E.get("fullscreen")[1]+`
              </button>`:"")+`
    </div>`);((i=r.theme.progress)==null?void 0:i.position)=="auto"&&$||((o=r.theme.progress)==null?void 0:o.position)=="center"?kt(e,w.querySelector("."+pt)):kt(e,a);const S=w.querySelector("button[aria-label=Volume]");oe||ai(s,S.nextElementSibling);const b=w.querySelector("button[aria-label="+l+"]"),k=w.querySelector("."+ft),x=w.querySelector('button[aria-label="'+f+'"]'),L=w.querySelector('button[aria-label="'+g+'"]'),_=(T,B)=>{T.classList.add(B?te:G),T.classList.remove(B?G:te)};r.fullscreen&&s.on("fullscreenchange",()=>setTimeout(()=>{_(x,Lo(s))})),r.pictureInPicture&&s.on(["enterpictureinpicture","leavepictureinpicture"],()=>_(L,s.isInPip)),s.on(["play","pause","videosourcechange"],()=>{b.setAttribute("aria-label",s.isPlaying?u:l),_(b,s.isPlaying)}),s.on("volumechange",()=>_(S,s.isMuted)),s.on(["durationchange","timeupdate","seeking","seeked"],()=>{k.innerText=O(s.currentTime)+" "+(s.options.isLive?"":"/ "+O(s.duration))}),s.on("videosourcechange",()=>{k.innerText=s.options.isLive||s.$video.preload=="none"?"00:00":"00:00 / --:--"}),w.addEventListener("click",T=>{switch(T.target.getAttribute("aria-label")){case l:case u:return s.togglePlay();case"Volume":if($&&!oe)return;s.isMuted?s.unmute():s.mute();break;case g:return s.togglePip();case f:To(s)||!s.isFullscreenEnabled?s.emit("fullscreenchange",{isWeb:!0}):s.toggleFullScreen();return;case h:Wt(s);break;case m:s.emit("next");break;case p:s.emit("previous");break}}),c.render(w,a)},gi=2e3,fi=e=>{const t=e.player,n=e.config,i=e.$root,o=c.create("div");oi(e,o),hi(e,o);const s=n.theme.controller||{},r=s.display,a=s.displayBehavior;r=="played"&&(Pe(o,J),t.once("play",()=>{we(o,J)}));const d=()=>{var f;!t.isPlaying&&!$||M(t.$root,A)||M(t.$root,W)||M(t.$root,be)||t.$root.contains(document.activeElement)&&((f=document.activeElement)==null?void 0:f.tagName)=="INPUT"||(Pe(t.$root,A),t.$root.setAttribute(ht,"true"),t.emit("controlshidden",!1))},l=Xt(d,gi),u=l.callee,h=l.clear,g=()=>{h(),M(t.$root,A)&&(we(t.$root,A),t.$root.setAttribute(ht,"false"),t.emit("controlsshown",!0))};a!="none"&&(t.on("play",u),t.on(["pause","videosourcechange"],g),t.on("destroy",h)),$||(t.$root.addEventListener("mousemove",f=>{g(),o.contains(f.target)||u()}),a=="delay"&&t.$root.addEventListener("mouseleave",u),a=="hover"&&t.$root.addEventListener("mouseleave",d)),e.toggleController=function(){if(M(o,J)){t.play();return}M(t.$root,A)?g():d()},c.render(o,i)},de={opacity:0,"pointer-events":"none"},pi=c.css(Object.assign({transition:"opacity 100ms linear",position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",fill:"#fff",width:"3em",height:"3em","z-index":"7","& > button":{width:"100%",height:"100%","border-radius":"100%",background:"var(--primary-color)",opacity:.9,padding:"1em",transition:"transform .2s ease-in-out","&:active":{transform:"scale(.85)"},"& > *":{position:"relative",width:"1.5em",height:"1.5em",left:"-0.2em",top:"-0.25em"}},["@global ."+ve+" &"]:de,["@global ."+Q+" &"]:de,["@global ."+be+" &"]:de},$&&{["@global ."+A+" &"]:de})),Et=(e,t)=>{const n=c.create("div."+pi,{},'<button aria-label="Play" class="'+C+`" type="button">
      `+E.get("play")+`
    </button>`);return c.render(n,t).addEventListener("click",()=>e.play()),n},mi=c.css(`
  display: none;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  background: #000;
  z-index: 7;
  align-items: center;
  padding: 0 10px;
  word-break: break-all;
  justify-content: center;
  text-align: center;
`),St=c.css("display: flex;"),vi={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},bi=(e,t,n)=>{const i=c.render(c.create("div."+mi,{"aria-label":"Error Overlay"}),t);function o(a){var d;let l="";if(a instanceof Event){const u=(d=a.target)==null?void 0:d.error;if(!u||!u.message&&typeof u.code!="number")return;l=u.message||vi[u.code]}else l=a.message;i.innerText=l||"UNKNOWN_ERROR",e.$root.classList.add(be),Pe(i,St)}function s(){we(i,St),e.$root.classList.remove(be),i.innerText=""}const r=a=>{n.errorBuilder?n.errorBuilder(a,i,d=>o(d)):o(a)};return e.on(["videosourcechange","videoqualitychange","loadedmetadata"],s),e.on("error",a=>{let d=a.payload;return r(d)}),o},yi=c.css({position:"absolute",top:"0",bottom:"0",left:"0",right:"0",display:"none","align-items":"center","justify-content":"center",["@global ."+Q+" &"]:{display:"flex"}}),wi=c.css({position:"relative",overflow:"hidden",width:"20%",height:"4px","border-radius":"4px","&::before,&::after":{display:"block",content:"''",position:"absolute",height:"100%",width:"100%","background-color":"var(--primary-color)","border-radius":"4px"},"&::before":{opacity:"0.4"},"&::after":{animation:"indeterminate 1.3s infinite linear","transform-origin":"0% 50%"},"@keyframes indeterminate":{"0%":{transform:"translateX(0) scaleX(0)"},"10%":{transform:"translateX(0) scaleX(0.2)"},"40%":{transform:"translateX(0) scaleX(0.7)"},"60%":{transform:"translateX(60%) scaleX(0.4)"},"100%":{transform:"translateX(100%) scaleX(0.2)"}}}),Lt=(e,t)=>{const n=c.create("div."+yi,{"aria-label":"Loading"},""+(E.get("loadingIndicator")||'<div class="'+wi+'"></div>'));c.render(n,t)},xi=c.css({width:"100%",height:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",["@global ."+W+" &"]:{"z-index":"8"}}),ki=e=>{const t=e.player,n=e.$root,i=e.$mask=c.create("div."+xi);let o=0,s;i.addEventListener("click",()=>{M(t.$root,W)||($?e.toggleController():(o==0&&t.togglePlay(),s&&clearTimeout(s),s=window.setTimeout(()=>{o==2&&(t.togglePlay(),t.toggleFullScreen()),o=0},200)),o+=1)}),c.render(i,n)},Tt=e=>{const t=e.getAttribute("aria-checked")=="true";e.setAttribute("aria-checked",""+!t),Po(e,n=>n.setAttribute("aria-checked",""+t))},$i=e=>{var t;const n=e.config.menu,i=[],o=(t=e.$controllerBar)==null?void 0:t.lastElementChild,s=e.$controllerBottom.lastElementChild,r=[o,s].filter(Boolean);function a(h){var g,f;const p=h.target,m=p.getAttribute("aria-label"),v=i.find(y=>y.name==m);!v||p.getAttribute("aria-checked")=="true"||(p.tagName.toUpperCase()=="SPAN"?(Tt(p),(g=v.onChange)==null||g.call(v,v.children[+p.getAttribute("data-index")],p.parentElement.previousElementSibling,e.player)):p.tagName.toUpperCase()=="BUTTON"&&((f=v.onClick)==null||f.call(v,p,e.player)))}r.forEach(h=>{h.addEventListener("click",a)});function d(h){const g=i.find(b=>b.name==h.name);g&&l(g.name);const f=h.name,p=h.icon,m=h.children,y=h.position=="top"&&r.length==2;let w="";const S=`
    <button
      aria-label="`+f+`"
      `+(y?'data-tooltip-pos="down"':"")+`
      class="`+C+" "+(p?"":Kt)+" "+(h.children?"":F)+`"
      type="button"
    >`+(p||f)+"</button>";h.children?w=`
      <div class="`+Be+" "+Yt+'" data-dropdown-pos="'+h.position+'" aria-label="'+f+`">
        `+S+`
        <div class='`+X+" "+(y?Ho:"")+`' role='menu'>
          `+m.map((b,k)=>`<span
                  role="menuitemradio"
                  aria-haspopup="false"
                  aria-label="`+f+`"
                  class="`+jo+`"
                  aria-checked="`+!!b.default+`"
                  data-index="`+k+`"
                >`+b.name+"</span>").join("")+`
          </div>
      </div>`:w=S,y?o.insertAdjacentHTML("afterbegin",w):s.insertAdjacentHTML("afterbegin",w),i.push(h)}function l(h){r.forEach(g=>{var f,p;(f=g.querySelector("button[aria-label="+h+"]"))==null||f.remove(),(p=g.querySelector("div[aria-label="+h+"]"))==null||p.remove()})}function u(h,g){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r.forEach(p=>{const m=p.querySelector("."+X+" > span[aria-label="+h+"]:nth-child("+(g+1)+")");m&&(Tt(m),f&&m.click())})}n&&n.forEach(d),e.menu={register:function(h){(Array.isArray(h)?h:[h]).forEach(d)},unregister:l,select:u}},_t=c.css({position:"absolute",display:"none",top:"0.625em",left:"0.625em",right:"0.625em","z-index":9,"margin-top":"var(--control-bar-height)",transition:"margin 0.2s",["@global ."+A+" &"]:{"margin-top":0}}),Ct=c.css(`
  -moz-user-select: all;
  -webkit-user-select: all;
  -ms-user-select: all;
  user-select: all;
  color: #fff;
  background-color: var(--shadow-background-color);
  border-radius: 2px;
  padding: 5px 10px;
  font-size: 0.875em;
`),At=c.css(lt||(lt=N([`
  text-align: center;
`]))),Pt=c.css(ct||(ct=N([`
  text-align: right;
`]))),Ot=c.css(dt||(dt=N([`
  bottom: 6em;
  top: initial;
`]))),Ei=c.css(ut||(ut=N([`
  top: 50%;
  text-align: center;
  transform: translateY(-50%);
`]))),Si={center:Ei,left:"","top-left":"",top:At,"top-center":At,"top-right":Pt,right:Pt,bottom:Ot,"left-bottom":Ot},Li=2e3,zt=c.css("display:block;"),Ti=e=>{const t=e.player,n=e.$root,i=c.create("div."+_t,{"aria-label":"Notice"},'<span class="'+Ct+'"></span>'),o=i.querySelector("."+Ct),s=Xt(()=>we(i,zt),Li),r=s.callee;function a(d,l){o.innerHTML=d,i.className=_t+" "+zt+" "+Si[l||"left"],r()}return t.on("notice",d=>{let l=d.payload;return a(l.text,l.pos)}),e.notice=a,c.render(i,n),a};function _i(e){return e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(t,n,i)=>{let o=i.slice(0,3);return i.length===1&&(o=i+"00"),i.length===2&&(o=i+"0"),n+","+o})}function Ci(e){return`WEBVTT \r
\r
`.concat(_i(e).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function Ce(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function Ai(e){const t=new RegExp("Dialogue:\\s\\d+,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}(.*)$","i");return`WEBVTT\r
\r
`+e.split(/\r?\n/).map(n=>{const i=n.match(t);return!i||!i[1]||!i[2]||!i[5]?null:{start:i[1],end:i[2],text:Pi(i[5].replace(/{[\s\S]*?}/g,"").replace(/\\N/g,`\r
`).replace(/\\n/g," ").replace(/\\h/g,"&nbsp;"))}}).filter(n=>n!=null).map((n,i)=>i+1+`\r
0`+n.start+"0 --> 0"+n.end+`0\r
`+n.text).join(`\r
\r
`)}function Pi(e){return e.replace(/[&<>'"]/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[t]||t)}const Ae="Subtitle";function Oi(e){const t=e.player,n=e.$root,i=e.config.subtitle,o=e.setting;return e.subtitle=new zi(t,o,n,i)}class zi{constructor(t,n,i,o){if(this.player=t,this.setting=n,this.el=i,this.isShow=!1,this.update=()=>{let s="";const r=this.$track.track.activeCues;if(r!=null&&r.length)for(let a=0;a<r.length;a++){const d=r[a];d&&(s+=d.text.replace(/\\h/g,"&nbsp;").split(/\r?\n/).map(l=>"<p><span>"+l+"</span></p>").join(""))}this.$dom.innerHTML=s},!window.TextDecoder){t.emit("notice",{text:t.locales.get("TextDecoder not supported")});return}this.options=Object.assign({source:[]},o),this.createContainer(),this.changeSource(this.options.source),this.player.on(["destroy","videosourcechange"],this.destroy.bind(this)),this.player.on("videoqualitychang",()=>{this.isShow&&this.hide()}),this.player.on("videoqualitychanged",this.fetchSubtitle.bind(this))}changeSource(t){var n;(n=this.setting)==null||n.unregister(Ae),this.processDefault(t),this.loadSetting(),this.currentSubtitle&&(this.player.isSourceChanging||isNaN(this.player.duration)||this.player.duration<1?this.player.once("loadedmetadata",this.fetchSubtitle.bind(this)):this.fetchSubtitle())}createContainer(){const t=this.el,n=this.options,i=n.color,o=n.shadow,s=n.fontSize,r=n.bottom,a=n.fontFamily,d=n.background,l=n.marginBottom;this.$dom=c.create("div."+c.css(Object.assign({left:"2%",right:"2%","text-align":"center","pointer-events":"none",position:"absolute","line-height":"1.5","font-family":a||"inherit",color:i||"#fff","text-shadow":o||"1px 0 1px #000, 0 1px 1px #000, -1px 0 1px #000, 0 -1px 1px #000, 1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000",bottom:r||"2%","font-size":(s||($?16:20))/16+"em","& > p":{margin:0,"& span":{"white-space":"pre-wrap",background:d?"rgba(8, 8, 8, 0.75)":"inherit",padding:"0 0.25em"}}},!$&&{"margin-bottom":l||"2.2em",transition:"margin 0.3s",["@global ."+A+" &"]:{"margin-bottom":0}})),{"aria-label":"Subtitle"}),c.render(this.$dom,t)}createTrack(){const t=this.player.$video;if(this.$track=c.render(c.create("track",{default:!0,kind:"metadata",id:"primary"}),t),!this.player._requestFullscreen){const n=this.$iosTrack=c.create("track",{default:!1,kind:"captions",id:"__Orz__"}),i=n.track;i.mode="hidden",c.render(this.$iosTrack,t),this.player.on("fullscreenchange",o=>{o.payload.isWeb||setTimeout(()=>{const r=this.player.isFullScreen&&this.isShow;i.mode=r?"showing":"hidden"})})}}changeOffset(){var t;const n=(t=this.currentSubtitle)==null?void 0:t.offset;n&&[this.$track,this.$iosTrack].forEach(i=>{if(!i)return;const o=i.track.cues,s=this.player.duration;Array.from(o||[]).forEach(r=>{r.startTime=ye(r.startTime+n,0,s),r.endTime=ye(r.endTime+n,0,s)})})}processDefault(t){this.options.source=t,this.currentSubtitle=Ii(t)}show(){this.isShow=!0,this.$track.addEventListener("cuechange",this.update)}hide(){const t=this.$track,n=this.$dom;this.isShow=!1,n.innerHTML="",t.removeEventListener("cuechange",this.update)}fetchSubtitle(){if(!this.currentSubtitle)return;this.$track||this.createTrack();const t=this.currentSubtitle,n=this.player,i=this.$track,o=this.$iosTrack,s=t.src,r=t.encoding,a=t.type,d=a===void 0?"auto":a;return fetch(s).then(l=>l.arrayBuffer()).then(l=>{var u;const g=new TextDecoder(r).decode(l);switch(d=="auto"?(u=/srt|ass|vtt(#|\?|$)/i.exec(s))==null?void 0:u[0]:d){case"srt":return Ce(Ci(g));case"ass":return Ce(Ai(g));case"vtt":return Ce(g);default:return s}}).then(l=>{i.src&&URL.revokeObjectURL(i.src),o!=null&&o.src&&URL.revokeObjectURL(o.src),this.$track.addEventListener("load",()=>{this.changeOffset(),this.show()},{once:!0}),i.src=l,o&&(o.src=l)}).catch(l=>{n.emit("notice",{text:"Subtitle"+l.message})})}loadSetting(){if(!this.setting)return;const t=this.options.source;t.length&&this.setting.register({name:this.player.locales.get("Subtitle"),type:"selector",icon:E.get("subtitle"),key:Ae,onChange:n=>{var i;let o=n.value;o?o.src==((i=this.currentSubtitle)==null?void 0:i.src)?this.show():(this.currentSubtitle=o,this.$dom.innerHTML="",this.fetchSubtitle()):this.hide()},children:[{name:this.player.locales.get("OFF"),default:!this.currentSubtitle}].concat(t==null?void 0:t.map(n=>{var i;return{name:n.name,default:((i=this.currentSubtitle)==null?void 0:i.src)==n.src,value:n}}))})}destroy(){var t;const n=this.$dom,i=this.$track,o=this.$iosTrack;i==null||i.removeEventListener("cuechange",this.update),(t=this.setting)==null||t.unregister(Ae),i!=null&&i.src&&URL.revokeObjectURL(i.src),o!=null&&o.src&&URL.revokeObjectURL(o.src),i==null||i.remove(),o==null||o.remove(),n.innerHTML="",this.isShow=!1,this.$track=this.$iosTrack=void 0}}function Ii(e){return e.find(t=>t.default)}const Mi=(e,t)=>{const n=t.theme.watermark;if(!n)return;const i=e.$watermark=document.createElement("img");i.setAttribute("alt","watermark");for(const o in n.style)i.style[o]=n.style[o];for(const o in n.attrs)i.setAttribute(o,n.attrs[o]);i.src=n.src,e.$root.appendChild(i)},Ri={theme:{primaryColor:"#6668ab",progress:{position:"top",mini:!0},controller:{setting:"auto",display:"always",coverButton:!0,displayBehavior:"hover"}},fullscreen:!0,autoFocus:!0,forceLandscapeOnFullscreen:!0,settings:["loop"],keyboard:{focused:!0},speeds:["2.0","1.5","1.25","1.0","0.75","0.5"]};class Bi{constructor(t){var n;this.key="ui",this.version="1.3.2",this.name="oplayer-theme-ui",this.keyboard={},this.setting={},this.menu={},this.progressHoverCallback=[],this.config=U({},Ri,t),(n=this.config.keyboard)!=null&&n.global&&(this.config.keyboard.focused=!1)}apply(t){var n;const i=this.config;this.player=t;const o=this.$root=c.create("div."+io(i));if(Mi(this,i),t.isNativeUI){Ut(t),Et(t,o),Lt(t,o),c.render(o,t.$root);return}return this.icons=E.setupIcons(i.icons),_o(t,i),Oo(this),bi(t,o,i),Ti(this),Lt(t,o),(n=i.theme.controller)!=null&&n.coverButton&&(this.$coverButton=Et(t,o)),fi(this),ki(this),ei(this),$i(this),Oi(this),zo(this),Mo(this),Bo(t,i),c.render(o,t.$root),this}destroy(){}}function Ki(e){return new Bi(e)}const Z="oplayer-plugin-dash",Fi=(e,t)=>t.format==="dash"||t.format==="mpd"||(t.format==="auto"||typeof t.format>"u")&&/.mpd(#|\?|$)/i.test(t.src);class P{constructor(t){this.key="dash",this.name=Z,this.version="1.2.25",this.options={textControl:!0,audioControl:!0,qualityControl:!0,withBitrate:!1,qualitySwitch:"immediate",matcher:Fi},Object.assign(this.options,t)}apply(t){return this.player=t,this}async load(t,n){var i;let o=t.$video;const s=this.options,r=s.matcher,a=s.library;if(!r(o,n)||(P.library||(P.library=a?await Cn(a,"dashjs"):(await se(()=>import("./KZtXxK7r.js").then(f=>f.d),[],import.meta.url)).default),!P.library.supportsMediaSource()))return!1;this.instance=P.library.MediaPlayer().create();const d=this.player,l=this.instance,u=this.options,h=u.config,g=u.active;return g&&g(l,P.library),h&&l.updateSettings(h),l.initialize(o,n.src,o.autoplay),l.on(P.library.MediaPlayer.events.ERROR,function(f){const p=f.event||f.error,m=f.event?f.event.message||f.type:void 0;d.emit("error",Object.assign({pluginName:Z,message:m},p))}),(i=d.context.ui)!=null&&i.setting&&ji(d,l,this.options),this}destroy(){var t;if(this.instance){const n=this.player,i=this.instance,o=this.options.inactive;o&&o(i,P.library),(t=n.context.ui)!=null&&t.setting&&Ni(n),i.destroy()}}}P.library=globalThis.dashjs;function Hi(e,t,n){var i,o,s;const r=e.getBitrateInfoListFor(t),a=!!((s=(o=(i=e.getSettings().streaming)==null?void 0:i.abr)==null?void 0:o.autoSwitchBitrate)!=null&&s.video),d=e.getQualityFor("video");return r.length>1?r.map(l=>{let u=l.height+"p";if(n){const h=l.bitrate/1e3,g=h>1e3,f=g?(h/1e3).toFixed(2):Math.floor(h);u+=" ("+f+(g?"m":"k")+"bps)"}return{name:u,default:a?!1:d==l.qualityIndex,value:l.qualityIndex}}):[]}const ji=(e,t,n)=>{t.on(P.library.MediaPlayer.events.STREAM_INITIALIZED,function(){n.qualityControl&&(i({name:"Quality",icon:e.context.ui.icons.quality,settings(){var o,s,r;const a=Hi(t,"video",n.withBitrate);return a.length&&a.unshift({name:e.locales.get("Auto"),default:!!((r=(s=(o=t.getSettings().streaming)==null?void 0:o.abr)==null?void 0:s.autoSwitchBitrate)!=null&&r.video),value:-1}),a},onChange(o){let s=o.value;t.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:s==-1}}}}),s!=-1&&t.setQualityFor("video",s,n.qualitySwitch=="immediate")}}),t.on(P.library.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(s){var r,a,d,l,u;if(s.mediaType!=="video"||!((d=(a=(r=t.getSettings().streaming)==null?void 0:r.abr)==null?void 0:a.autoSwitchBitrate)!=null&&d.video))return;const h=(l=t.getBitrateInfoListFor("video")[s.newQuality])==null?void 0:l.height,g=e.locales.get("Auto")+(h?" ("+h+"p)":"");(u=e.context.ui)==null||u.setting.updateLabel(Z+"-Quality",g)})),n.audioControl&&i({name:"Language",icon:e.context.ui.icons.lang,settings(){return t.getTracksFor("audio").map(o=>{var s;return{name:o.lang||"unknown",default:((s=t.getCurrentTrackFor("audio"))==null?void 0:s.id)==o.id,value:o}})},onChange(o){let s=o.value;t.setCurrentTrack(s)}}),n.textControl&&i({name:"Subtitle",icon:e.context.ui.icons.subtitle,settings(){const o=t.getTracksFor("text").map(s=>{var r;return{name:s.lang||"unknown",default:((r=t.getCurrentTrackFor("text"))==null?void 0:r.id)==s.id,value:s.id}});return o.length&&o.unshift({name:e.locales.get("Off"),default:!t.isTextEnabled(),value:-1}),o},onChange(o){let s=o.value;t.enableText(s!=-1),s!=-1&&t.setTextTrack(s)}})});function i(o){const s=o.settings();if(s.length<2)return;const r=o.name,a=o.icon,d=o.onChange;e.context.ui.setting.unregister(Z+"-"+r),e.context.ui.setting.register({name:e.locales.get(r),icon:a,onChange:d,type:"selector",key:Z+"-"+r,children:s})}},Ni=e=>{["Quality","Language","Subtitle"].forEach(t=>e.context.ui.setting.unregister(Z+"-"+t))};function Gi(e){return new P(e)}var It;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(It||(It={}));var Mt;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Mt||(Mt={}));const Qi=re("StatusBar");var Rt;(function(e){e.SHOW="onShow",e.HIDE="onHide",e.COLOR_CHANGE="onColorChange"})(Rt||(Rt={}));const Ji=re("NavigationBar",{web:()=>se(()=>import("./Cv3X4BPC.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(e=>new e.NavigationBarWeb)}),Zi=re("ScreenOrientation",{web:()=>se(()=>import("./CvtufldL.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url).then(e=>new e.ScreenOrientationWeb)}),es=re("InAppReview",{web:()=>se(()=>import("./DirjW7-x.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url).then(e=>new e.InAppReviewWeb)});var Bt;(function(e){e.G="G",e.MA="MA",e.PG="PG",e.T="T",e.UNSPECIFIED=""})(Bt||(Bt={}));var Ft;(function(e){e[e.notDetermined=0]="notDetermined",e[e.restricted=1]="restricted",e[e.denied=2]="denied",e[e.authorized=3]="authorized"})(Ft||(Ft={}));var fe=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)},Me=function(e,t,n,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},pe,ne,me;const V=re("AdMobPlus",{web:()=>se(()=>import("./x_5J3mjP.js"),__vite__mapDeps([7,1,2,3,4]),import.meta.url).then(e=>new e.AdMobPlusWeb)});let an=!1,ke=null;const ln=V.start;V.start=async()=>{ke=ln();const e=await ke;return an=!0,e};class z{constructor(t){pe.set(this,!1),ne.set(this,null),this.opts=t,this.id=z.nextId(),z.allAds[this.id]=this}static nextId(){return z.idCounter+=1,z.idCounter}get adUnitId(){return this.opts.adUnitId}async isLoaded(){return await this.init(),V.adIsLoaded({id:this.id})}async load(){return await this.init(),V.adLoad(Object.assign(Object.assign({},this.opts),{id:this.id}))}async show(){return await this.init(),V.adShow({id:this.id})}async hide(){return await this.init(),V.adHide({id:this.id})}async init(){var t;if(!fe(this,pe,"f")){if(an||(ke===null&&ln(),await ke),fe(this,ne,"f")===null){const n=(t=this.constructor.cls)!==null&&t!==void 0?t:this.constructor.name;Me(this,ne,V.adCreate(Object.assign(Object.assign({},this.opts),{id:this.id,cls:n})),"f")}await fe(this,ne,"f"),Me(this,pe,!0,"f")}}}pe=new WeakMap,ne=new WeakMap;z.allAds={};z.idCounter=0;class Di extends z{constructor(t){super(Object.assign({position:"bottom"},t)),me.set(this,!1)}isLoaded(){return super.isLoaded()}async load(){await super.load(),Me(this,me,!0,"f")}async show(){fe(this,me,"f")||await this.load(),await super.show()}hide(){return super.hide()}}me=new WeakMap;Di.cls="BannerAd";class qi extends z{isLoaded(){return super.isLoaded()}async load(){return super.load()}async show(){return super.show()}}qi.cls="InterstitialAd";class Vi extends z{isLoaded(){return super.isLoaded()}async load(){return super.load()}async show(){return super.show()}}Vi.cls="RewardedAd";class Ui extends z{isLoaded(){return super.isLoaded()}async load(){return super.load()}async show(){return super.show()}}Ui.cls="RewardedInterstitialAd";export{es as I,Ji as N,oo as P,Qi as S,Gi as a,Zi as b,Ki as c,qi as d,Yi as s};
